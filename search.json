[{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/CONTRIBUTING.html","id":"filing-issues","dir":"","previous_headings":"","what":"Filing issues","title":"Contributing to PatientProfiles","text":"found bug, question, want suggest new feature please open issue. reporting bug, reprex much appreciated. contributing either documentation code, please make sure open issue beforehand identify needs done .","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/CONTRIBUTING.html","id":"documenting-the-package","dir":"","previous_headings":"Filing issues","what":"Documenting the package","title":"Contributing to PatientProfiles","text":"Run update check package documentation: Note devtools::check_man() return warnings. commit limited package documentation, running sufficient (although running devtools::check() always generally good idea submitting pull request.","code":"devtools::document()  devtools::run_examples() devtools::build_readme() devtools::build_vignettes() devtools::check_man()"},{"path":"https://darwin-eu.github.io/PatientProfiles/CONTRIBUTING.html","id":"run-tests","dir":"","previous_headings":"Filing issues","what":"Run tests","title":"Contributing to PatientProfiles","text":"starting contribute code, first make sure package tests passing. raise issue going (although please first make sure packages imports suggests installed). contribute code, make sure current tests add continue pass. package tests can run together : Code add new functionality accompanied tests. Code coverage can checked using:","code":"devtools::test() # note, you may first have to detach the package # detach(\"package:PatientProfiles\", unload=TRUE) devtools::test_coverage()"},{"path":"https://darwin-eu.github.io/PatientProfiles/CONTRIBUTING.html","id":"adhere-to-code-style","dir":"","previous_headings":"Filing issues","what":"Adhere to code style","title":"Contributing to PatientProfiles","text":"Please adhere code style adding new code. though restyle code unrelated pull request make code review difficult.","code":"lintr::lint_package(\".\",                     linters = lintr::linters_with_defaults(                       lintr::object_name_linter(styles = \"camelCase\")                     ) )"},{"path":"https://darwin-eu.github.io/PatientProfiles/CONTRIBUTING.html","id":"run-check-before-opening-a-pull-request","dir":"","previous_headings":"Filing issues","what":"Run check() before opening a pull request","title":"Contributing to PatientProfiles","text":"opening pull request please make sure run: warnings seen.","code":"devtools::check()"},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"id_9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright [yyyy] [name of copyright owner]  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/cohort-intersect.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Adding cohort intersections","text":"Cohorts often key component studies use OMOP CDM. may created represent various clinical events interest often use cohorts combination, whether identify outcomes among people exposure interest, report baseline comorbidites among certain study population, many possible reasons. Cohorts particular format OMOP CDM, can see two cohort tables created mockPatientProfiles() function provided PatientProfiles, mimics database OMOP CDM format. can see first cohort table contains 2 cohorts second contains 3 cohorts.","code":"library(CDMConnector) library(PatientProfiles) library(duckdb) library(dplyr) library(ggplot2)  cdm <- mockPatientProfiles(numberIndividuals = 1000)  cdm$cohort1 |>   glimpse() ## Rows: ?? ## Columns: 4 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 2, 1, 1, 2, 2, 3, 2, 3, 1, 2, 2, 2, 2, 1, 1, 1, 3… ## $ subject_id           <int> 503, 261, 750, 1, 445, 523, 899, 929, 925, 200, 6… ## $ cohort_start_date    <date> 2004-08-05, 1976-07-21, 1978-01-02, 1916-08-27, … ## $ cohort_end_date      <date> 2005-12-14, 1979-07-22, 1980-06-14, 1946-04-06, … settings(cdm$cohort1) ## # A tibble: 3 × 2 ##   cohort_definition_id cohort_name ##                  <int> <chr>       ## 1                    1 cohort_1    ## 2                    2 cohort_2    ## 3                    3 cohort_3 cdm$cohort2 |>   glimpse() ## Rows: ?? ## Columns: 4 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 3, 1, 1, 3, 1, 2, 1, 1, 2, 2, 3, 2, 2, 3, 1, 3, 1… ## $ subject_id           <int> 576, 112, 58, 256, 335, 291, 294, 615, 782, 721, … ## $ cohort_start_date    <date> 1956-05-21, 1978-06-11, 1921-03-26, 1955-04-22, … ## $ cohort_end_date      <date> 1973-09-24, 2001-11-10, 1923-07-03, 1955-07-27, … settings(cdm$cohort2) ## # A tibble: 3 × 2 ##   cohort_definition_id cohort_name ##                  <int> <chr>       ## 1                    1 cohort_1    ## 2                    2 cohort_2    ## 3                    3 cohort_3"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/cohort-intersect.html","id":"identifying-cohort-intersections","dir":"Articles","previous_headings":"","what":"Identifying cohort intersections","title":"Adding cohort intersections","text":"PatientProfiles provides four functions identifying cohort intersections (presence individual two cohorts). first addCohortIntersectFlag() adds flag whether someone appeared cohort time window. second, addCohortIntersectCount(), counts number times someone appeared cohort window. third, addCohortIntersectDate(), adds date intersection occurred. fourth, addCohortIntersectDays(), adds number days intersection. can see . Note add variables cohort table interest, identify intersections given window. can see, target cohort table contains multiple cohorts default functions add one new variable per cohort. Let’s start adding flag count variables using window 180 days 180 days cohort start date table interest. default cohort start date cohort interest used index date, cohort start cohort end date target cohort used check intersection. Next can add date intersection days intersection. identifying variables use one date target table, default cohort start date. addition default first intersection occurs within window used.","code":"cdm$cohort1 |>   addCohortIntersectFlag(     indexDate = \"cohort_start_date\",     targetCohortTable = \"cohort2\",     targetStartDate = \"cohort_start_date\",     targetEndDate = \"cohort_end_date\",     window = list(c(-180, 180))   ) |>   glimpse() ## Rows: ?? ## Columns: 7 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 3, 2, 3, 1, 1, 1, 1, 3, 1, 2, 3, 2, 3, 2, 1, 2, 3… ## $ subject_id           <int> 523, 899, 778, 85, 222, 140, 70, 591, 54, 137, 77… ## $ cohort_start_date    <date> 1962-10-26, 1950-03-28, 1925-07-30, 1939-09-06, … ## $ cohort_end_date      <date> 1974-01-15, 1976-07-06, 1936-05-29, 1942-05-25, … ## $ cohort_1_m180_to_180 <dbl> 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0… ## $ cohort_2_m180_to_180 <dbl> 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1… ## $ cohort_3_m180_to_180 <dbl> 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0… cdm$cohort1 |>   addCohortIntersectCount(     indexDate = \"cohort_start_date\",     targetCohortTable = \"cohort2\",     targetStartDate = \"cohort_start_date\",     targetEndDate = \"cohort_end_date\",     window = list(c(-180, 180))   ) |>   glimpse() ## Rows: ?? ## Columns: 7 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 3, 2, 3, 1, 1, 1, 1, 3, 1, 2, 3, 2, 3, 2, 1, 2, 3… ## $ subject_id           <int> 523, 899, 778, 85, 222, 140, 70, 591, 54, 137, 77… ## $ cohort_start_date    <date> 1962-10-26, 1950-03-28, 1925-07-30, 1939-09-06, … ## $ cohort_end_date      <date> 1974-01-15, 1976-07-06, 1936-05-29, 1942-05-25, … ## $ cohort_3_m180_to_180 <dbl> 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0… ## $ cohort_2_m180_to_180 <dbl> 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1… ## $ cohort_1_m180_to_180 <dbl> 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0… cdm$cohort1 |>   addCohortIntersectDate(     indexDate = \"cohort_start_date\",     targetCohortTable = \"cohort2\",     targetDate = \"cohort_start_date\",     window = list(c(-180, 180)),     order = \"first\"   ) |>   glimpse() ## Rows: ?? ## Columns: 7 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 2, 1, 1, 2, 2, 3, 2, 3, 1, 2, 2, 2, 2, 1, 1, 1, 3… ## $ subject_id           <int> 503, 261, 750, 1, 445, 523, 899, 929, 925, 200, 6… ## $ cohort_start_date    <date> 2004-08-05, 1976-07-21, 1978-01-02, 1916-08-27, … ## $ cohort_end_date      <date> 2005-12-14, 1979-07-22, 1980-06-14, 1946-04-06, … ## $ cohort_3_m180_to_180 <date> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … ## $ cohort_2_m180_to_180 <date> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … ## $ cohort_1_m180_to_180 <date> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … cdm$cohort1 |>   addCohortIntersectDays(     indexDate = \"cohort_start_date\",     targetCohortTable = \"cohort2\",     targetDate = \"cohort_start_date\",     window = list(c(-180, 180)),     order = \"first\"   ) |>   glimpse() ## Rows: ?? ## Columns: 7 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 2, 1, 1, 2, 2, 3, 2, 3, 1, 2, 2, 2, 2, 1, 1, 1, 3… ## $ subject_id           <int> 503, 261, 750, 1, 445, 523, 899, 929, 925, 200, 6… ## $ cohort_start_date    <date> 2004-08-05, 1976-07-21, 1978-01-02, 1916-08-27, … ## $ cohort_end_date      <date> 2005-12-14, 1979-07-22, 1980-06-14, 1946-04-06, … ## $ cohort_3_m180_to_180 <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ cohort_1_m180_to_180 <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ cohort_2_m180_to_180 <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/cohort-intersect.html","id":"options-for-identifying-cohort-intersection","dir":"Articles","previous_headings":"","what":"Options for identifying cohort intersection","title":"Adding cohort intersections","text":"consider impact different options can choose identifying cohort intersections let´s consider toy example single patient common cold (diagnosed 1st February 2020 ending 15th February 2020). person two records aspirin, one ending shortly start date common cold starting record common cold. can visualise person’s timeline looks like.  Whether consider cohort intersection common cold aspirin cohorts depend options choose. see let’s first create cdm reference containing example. consider intersection relative cohort start date common cold window 0 0 (ie index date) intersection identified individual ongoing record aspirin date. , however, change index date cohort end date case intersection found. also extend window include time cases lead cohort intersections found. window 90 days 90 days cohort start, person count two cohort intersections. window, add first cohort intersect date get start date first record aspirin. instead set order last, get start date second record aspirin.","code":"common_cold <- dplyr::tibble(   cohort_definition_id = 1,   subject_id = 1,   cohort_start_date = as.Date(\"2020-02-01\"),   cohort_end_date = as.Date(\"2020-02-15\") )  aspirin <- dplyr::tibble(   cohort_definition_id = c(1, 1),   subject_id = c(1, 1),   cohort_start_date = as.Date(c(\"2020-01-01\", \"2020-02-10\")),   cohort_end_date = as.Date(c(\"2020-01-28\", \"2020-03-15\")) ) bind_rows(   common_cold |> mutate(cohort = \"common cold\"),   aspirin |> mutate(cohort = \"aspirin\") ) |>   mutate(record = as.character(row_number())) |>   ggplot() +   geom_segment(     aes(       x = cohort_start_date,       y = cohort,       xend = cohort_end_date,       yend = cohort, col = cohort, fill = cohort     ),     size = 4.5, alpha = .5   ) +   geom_point(aes(x = cohort_start_date, y = cohort, color = cohort), size = 4) +   geom_point(aes(x = cohort_end_date, y = cohort, color = cohort), size = 4) +   ylab(\"\") +   xlab(\"\") +   theme_minimal() +   theme(legend.position = \"none\") cdm <- mockPatientProfiles(   cohort1 = common_cold,   cohort2 = aspirin,   numberIndividuals = 2 ) cdm$cohort1 |>   addCohortIntersectFlag(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetStartDate = \"cohort_start_date\",     targetEndDate = \"cohort_end_date\",     window = list(c(0, 0)),   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_0_to_0      <dbl> 0 cdm$cohort1 |>   addCohortIntersectFlag(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_end_date\",     targetStartDate = \"cohort_start_date\",     targetEndDate = \"cohort_end_date\",     window = list(c(0, 0))   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_0_to_0      <dbl> 1 cdm$cohort1 |>   addCohortIntersectFlag(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetStartDate = \"cohort_start_date\",     targetEndDate = \"cohort_end_date\",     window = list(c(-90, 90)),   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_m90_to_90   <dbl> 1 cdm$cohort1 |>   addCohortIntersectCount(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetStartDate = \"cohort_start_date\",     targetEndDate = \"cohort_end_date\",     window = list(c(-90, 90)),   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_m90_to_90   <dbl> 2 cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetDate = \"cohort_start_date\",     window = list(c(-90, 90)),     order = \"first\"   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_m90_to_90   <date> 2020-01-01 cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetDate = \"cohort_start_date\",     window = list(c(-90, 90)),     order = \"last\"   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_m90_to_90   <date> 2020-02-10"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/cohort-intersect.html","id":"naming-conventions-for-new-variables","dir":"Articles","previous_headings":"","what":"Naming conventions for new variables","title":"Adding cohort intersections","text":"One last option relates naming convention used new variables. can instead choose specific name (work one new variable added, otherwise get error avoid duplicate names). direction also include estimate type name. useful, example, ’re adding multiple different types intersection values.","code":"cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetDate = \"cohort_start_date\",     window = list(c(-90, 90)),     order = \"last\",     nameStyle = \"{cohort_name}_{window_name}\"   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ cohort_1_m90_to_90   <date> 2020-02-10 cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetDate = \"cohort_start_date\",     window = list(c(-90, 90)),     order = \"last\",     nameStyle = \"my_new_variable\"   ) |>   glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1 ## $ subject_id           <int> 1 ## $ cohort_start_date    <date> 2020-02-01 ## $ cohort_end_date      <date> 2020-02-15 ## $ my_new_variable      <date> 2020-02-10 cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetDate = \"cohort_start_date\",     window = list(c(-90, 90)),     order = \"last\",     nameStyle = \"{cohort_name}_{window_name}_{value}\"   ) |>   addCohortIntersectDays(     targetCohortTable = \"cohort2\",     indexDate = \"cohort_start_date\",     targetDate = \"cohort_start_date\",     window = list(c(-90, 90)),     order = \"last\",     nameStyle = \"{cohort_name}_{window_name}_{value}\"   ) |>   glimpse() ## Rows: ?? ## Columns: 6 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id    <int> 1 ## $ subject_id              <int> 1 ## $ cohort_start_date       <date> 2020-02-01 ## $ cohort_end_date         <date> 2020-02-15 ## $ cohort_1_m90_to_90_date <date> 2020-02-10 ## $ cohort_1_m90_to_90_days <dbl> 9"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/concept-intersect.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Adding concept intersections","text":"Concept sets play important role working data format OMOP CDM. can used create cohorts , ’ve seen previous vignette, can identify intersections cohorts. PatientProfiles adds another option working concept sets use adding associated variables directly without first create cohort. important note, explained , results may differ generating cohort identifying intersections two cohorts compared working directly concept sets. creation cohorts involve collapsing overlapping records well imposing certain requirements including records observed individuals observation period. adding variables based concept sets working directly record-level data OMOP CDM clinical tables.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/concept-intersect.html","id":"adding-variables-from-concept-sets","dir":"Articles","previous_headings":"","what":"Adding variables from concept sets","title":"Adding concept intersections","text":"vignette ’ll use Eunomia synthetic dataset. First lets create cohort interest, individuals ankle sprain. Now let’s say ’re interested summarising use acetaminophen among ankle sprain cohort. can start identifying relevant concepts. codes acetaminophen can create variables based . cohort intersections, PatientProfiles provides four types functions concept intersections. First, can add binary flag variable indicating whether individual record acetaminophen day ankle sprain 30 days afterwards. Second, can count number records acetaminophen window individual. Third, identify first start date acetaminophen window. fourth, can get number days start date acetaminophen window.","code":"library(CDMConnector) library(CodelistGenerator) library(PatientProfiles) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(ggplot2)  CDMConnector::requireEunomia() con <- DBI::dbConnect(duckdb::duckdb(), dbdir = CDMConnector::eunomiaDir()) cdm <- CDMConnector::cdmFromCon(con, cdmSchema = \"main\", writeSchema = \"main\")  cdm <- generateConceptCohortSet(   cdm = cdm,   name = \"ankle_sprain\",   conceptSet = list(\"ankle_sprain\" = 81151),   end = \"event_end_date\",   limit = \"all\",   overwrite = TRUE )  cdm$ankle_sprain #> # Source:   table<ankle_sprain> [?? x 4] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1        399 1960-01-07        1960-02-11      #>  2                    1        404 1983-01-20        1983-02-03      #>  3                    1        759 1973-12-23        1974-01-06      #>  4                    1        895 1971-11-18        1971-12-02      #>  5                    1        950 1985-05-26        1985-06-16      #>  6                    1        971 1965-08-20        1965-09-17      #>  7                    1       1281 2008-10-31        2008-11-28      #>  8                    1       1459 2006-10-26        2006-11-16      #>  9                    1       1510 2014-01-06        2014-01-20      #> 10                    1       1611 2013-11-29        2013-12-20      #> # ℹ more rows acetaminophen_cs <- getDrugIngredientCodes(   cdm = cdm,   name = c(\"acetaminophen\") )  acetaminophen_cs #>  #> ── 1 codelist ────────────────────────────────────────────────────────────────── #>  #> - 161_acetaminophen (7 codes) cdm$ankle_sprain |>   addConceptIntersectFlag(     conceptSet = acetaminophen_cs,     indexDate = \"cohort_start_date\",     window = c(0, 30)   ) |>   dplyr::glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #> $ cohort_definition_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id                  <int> 759, 950, 971, 1670, 2079, 2476, 3147, 317… #> $ cohort_start_date           <date> 1973-12-23, 1985-05-26, 1965-08-20, 1991-… #> $ cohort_end_date             <date> 1974-01-06, 1985-06-16, 1965-09-17, 1991-… #> $ `161_acetaminophen_0_to_30` <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … cdm$ankle_sprain |>   addConceptIntersectCount(     conceptSet = acetaminophen_cs,     indexDate = \"cohort_start_date\",     window = c(0, 30)   ) |>   dplyr::glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #> $ cohort_definition_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id                  <int> 759, 950, 971, 1670, 2079, 2476, 3147, 317… #> $ cohort_start_date           <date> 1973-12-23, 1985-05-26, 1965-08-20, 1991-… #> $ cohort_end_date             <date> 1974-01-06, 1985-06-16, 1965-09-17, 1991-… #> $ `161_acetaminophen_0_to_30` <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … cdm$ankle_sprain |>   addConceptIntersectDate(     conceptSet = acetaminophen_cs,     indexDate = \"cohort_start_date\",     window = c(0, 30),     order = \"first\"   ) |>   dplyr::glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #> $ cohort_definition_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id                  <int> 759, 950, 971, 1670, 2079, 2476, 3147, 317… #> $ cohort_start_date           <date> 1973-12-23, 1985-05-26, 1965-08-20, 1991-… #> $ cohort_end_date             <date> 1974-01-06, 1985-06-16, 1965-09-17, 1991-… #> $ `161_acetaminophen_0_to_30` <date> 1973-12-23, 1985-06-05, 1965-08-20, 1991-… cdm$ankle_sprain |>   addConceptIntersectDays(     conceptSet = acetaminophen_cs,     indexDate = \"cohort_start_date\",     window = c(0, 30),     order = \"first\"   ) |>   dplyr::glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #> $ cohort_definition_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id                  <int> 759, 950, 971, 1670, 2079, 2476, 3147, 317… #> $ cohort_start_date           <date> 1973-12-23, 1985-05-26, 1965-08-20, 1991-… #> $ cohort_end_date             <date> 1974-01-06, 1985-06-16, 1965-09-17, 1991-… #> $ `161_acetaminophen_0_to_30` <dbl> 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/concept-intersect.html","id":"adding-multiple-concept-based-variables","dir":"Articles","previous_headings":"","what":"Adding multiple concept based variables","title":"Adding concept intersections","text":"can add one variable time using functions. example, might want add variables multiple time windows. might want get variables multiple drug ingredients interest.","code":"cdm$ankle_sprain |>   addConceptIntersectFlag(     conceptSet = acetaminophen_cs,     indexDate = \"cohort_start_date\",     window = list(       c(-Inf, -1),       c(0, 0),       c(1, Inf)     )   ) |>   dplyr::glimpse() #> Rows: ?? #> Columns: 7 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #> $ cohort_definition_id           <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id                     <int> 399, 404, 759, 895, 950, 971, 1281, 145… #> $ cohort_start_date              <date> 1960-01-07, 1983-01-20, 1973-12-23, 19… #> $ cohort_end_date                <date> 1960-02-11, 1983-02-03, 1974-01-06, 19… #> $ `161_acetaminophen_minf_to_m1` <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, … #> $ `161_acetaminophen_0_to_0`     <dbl> 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, … #> $ `161_acetaminophen_1_to_inf`   <dbl> 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, … meds_cs <- getDrugIngredientCodes(   cdm = cdm,   name = c(     \"acetaminophen\",     \"amoxicillin\",     \"aspirin\",     \"heparin\",     \"morphine\",     \"oxycodone\",     \"warfarin\"   ) )  cdm$ankle_sprain |>   addConceptIntersectFlag(     conceptSet = meds_cs,     indexDate = \"cohort_start_date\",     window = list(       c(-Inf, -1),       c(0, 0)     )   ) |>   dplyr::glimpse() #> Rows: ?? #> Columns: 18 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmp5q11ZF/file23a45da77469.duckdb] #> $ cohort_definition_id           <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id                     <int> 525, 3158, 1169, 576, 5063, 759, 1941, … #> $ cohort_start_date              <date> 2000-09-17, 1971-09-18, 2009-02-21, 19… #> $ cohort_end_date                <date> 2000-10-08, 1971-10-16, 2009-03-07, 19… #> $ `723_amoxicillin_minf_to_m1`   <dbl> 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, … #> $ `7804_oxycodone_minf_to_m1`    <dbl> 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `5224_heparin_minf_to_m1`      <dbl> 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `723_amoxicillin_0_to_0`       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `1191_aspirin_minf_to_m1`      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, … #> $ `161_acetaminophen_minf_to_m1` <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, … #> $ `11289_warfarin_minf_to_m1`    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `1191_aspirin_0_to_0`          <dbl> 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, … #> $ `161_acetaminophen_0_to_0`     <dbl> 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, … #> $ `7052_morphine_minf_to_m1`     <dbl> 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `11289_warfarin_0_to_0`        <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `5224_heparin_0_to_0`          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `7052_morphine_0_to_0`         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ `7804_oxycodone_0_to_0`        <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/concept-intersect.html","id":"cohort-based-versus-concept-based-intersections","dir":"Articles","previous_headings":"","what":"Cohort-based versus concept-based intersections","title":"Adding concept intersections","text":"previous vignette saw can add intersection variable using cohort created. Meanwhile vignette see can instead create intersection variable using concept set directly. important note circumstances two approaches can lead different results. creating cohort combine overlapping records, cohort entries overlap. Thus adding intersection count, addCohortIntersectCount() return count cohort entries window interest addConceptIntersectCount() return count records withing window. can see impact acetaminophen example data , slightly records cohort entries.  Additional differences cohort concept set intersections may also result cohort table rules. example, cohort tables typically omit records occur outside individual´s observation time (defined observation period window). records, however, excluded adding concept based intersection.","code":"acetaminophen_cs <- getDrugIngredientCodes(   cdm = cdm,   name = c(\"acetaminophen\") )  cdm <- generateConceptCohortSet(   cdm = cdm,   name = \"acetaminophen\",   conceptSet = acetaminophen_cs,   end = \"event_end_date\",   limit = \"all\" )  dplyr::bind_rows(   cdm$ankle_sprain |>     addCohortIntersectCount(       targetCohortTable = \"acetaminophen\",       window = c(-Inf, Inf)     ) |>     dplyr::group_by(`161_acetaminophen_minf_to_inf`) |>     dplyr::tally() |>     dplyr::collect() |>     dplyr::arrange(desc(`161_acetaminophen_minf_to_inf`)) |>     dplyr::mutate(type = \"cohort\"),   cdm$ankle_sprain |>     addConceptIntersectCount(       conceptSet = acetaminophen_cs,       window = c(-Inf, Inf)     ) |>     dplyr::group_by(`161_acetaminophen_minf_to_inf`) |>     dplyr::tally() |>     dplyr::collect() |>     dplyr::arrange(desc(`161_acetaminophen_minf_to_inf`)) |>     dplyr::mutate(type = \"concept_set\") ) |>   ggplot() +   geom_col(aes(`161_acetaminophen_minf_to_inf`, n, fill = type),     position = \"dodge\"   ) +   theme_bw() +   theme(     legend.title = element_blank(),     legend.position = \"top\"   )"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/demographics.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Adding patient demographics","text":"OMOP CDM person-centric model. person table contains records uniquely identify individual along demographic information. create mock CDM reference , standard, person table contains fields indicate individual’s date birth, gender, race, ethnicity. , except date birth, represented concept ID (person table contains one record per person fields treated time-invariant). well person table, every CDM reference include observation period table. table contains spans times individual considered observation. Individuals can multiple observation periods, overlap. performing analyses often interested working person observation period tables identify individuals’ characteristics date interest. PatientProfiles provides number functions can help us .","code":"library(PatientProfiles) library(duckdb) library(dplyr)  cdm <- mockPatientProfiles(numberIndividuals = 10000)  cdm$person |>   dplyr::glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id            <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15… ## $ gender_concept_id    <int> 8532, 8532, 8507, 8532, 8532, 8507, 8532, 8532, 8… ## $ year_of_birth        <int> 1940, 1952, 1958, 1906, 1950, 1917, 1967, 1972, 1… ## $ race_concept_id      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0… ## $ ethnicity_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0… cdm$observation_period |>   dplyr::glimpse() ## Rows: ?? ## Columns: 5 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                     <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1… ## $ observation_period_start_date <date> 1940-01-01, 1952-01-01, 1958-01-01, 190… ## $ observation_period_end_date   <date> 1969-04-09, 1977-04-26, 2000-12-04, 193… ## $ period_type_concept_id        <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0… ## $ observation_period_id         <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1…"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/demographics.html","id":"adding-characteristics-to-omop-cdm-tables","dir":"Articles","previous_headings":"","what":"Adding characteristics to OMOP CDM tables","title":"Adding patient demographics","text":"Let’s say ’re working condition occurrence table. table contains diagnoses individuals might, example, want identify age date diagnosis. involves linking back person table contains date birth (split across three different columns). PatientProfiles provides simple function . addAge() add new column table containing patient’s age relative specified index date. well calculating age, can also create age groups time. create three age groups: aged 0 17, 18 65, 66 older. default, adding age new column called “age” calculated using available information date birth contained person. can though also alter defaults. , example, impose month birth January day birth 1st individuals. well age diagnosis, might also want identify patients’ sex. PatientProfiles provides addSex() function add us. treated time-invariant, specify index variable. Similarly, also identify whether individual observation time diagnosis (.e. observation period overlaps diagnosis date), well identifying much prior observation time date much following . functions work information observation table, important note results based observation period index date falls within. Moreover, patient observation specified date, addPriorObservation() addFutureObservation() functions return NA. checking whether someone observation default checking whether someone observation index date. though expand consider window time around date. example add variable indicating whether someone observation 180 days index date 30 days following . can also specify window require individual present days within . add variable indicating whether individual observation least year future,","code":"cdm$condition_occurrence |>   glimpse() ## Rows: ?? ## Columns: 6 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 2284, 3335, 9438, 6762, 9433, 9393, 6360, 36… ## $ condition_start_date      <date> 1918-10-05, 1934-12-06, 1945-12-27, 1944-09… ## $ condition_end_date        <date> 1925-01-30, 1954-09-30, 1947-08-23, 1947-08… ## $ condition_occurrence_id   <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 1… ## $ condition_concept_id      <int> 1, 2, 2, 7, 6, 9, 8, 3, 10, 5, 3, 2, 5, 5, 3… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… cdm$condition_occurrence <- cdm$condition_occurrence |>   addAge(indexDate = \"condition_start_date\")  cdm$condition_occurrence |>   glimpse() ## Rows: ?? ## Columns: 7 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… cdm$condition_occurrence <- cdm$condition_occurrence |>   addAge(     indexDate = \"condition_start_date\",     ageGroup = list(       \"0 to 17\" = c(0, 17),       \"18 to 65\" = c(18, 65),       \">= 66\" = c(66, Inf)     )   )  cdm$condition_occurrence |>   glimpse() ## Rows: ?? ## Columns: 8 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ age_group                 <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"18 to 65\"… cdm$condition_occurrence <- cdm$condition_occurrence |>   addAge(     indexDate = \"condition_start_date\",     ageName = \"age_from_year_of_birth\",     ageMissingMonth = 1,     ageMissingDay = 1,     ageImposeMonth = TRUE,     ageImposeDay = TRUE   )  cdm$condition_occurrence |>   glimpse() ## Rows: ?? ## Columns: 9 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ age_group                 <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"18 to 65\"… ## $ age_from_year_of_birth    <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… cdm$condition_occurrence <- cdm$condition_occurrence |>   addSex()  cdm$condition_occurrence |>   glimpse() ## Rows: ?? ## Columns: 10 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ age_group                 <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"18 to 65\"… ## $ age_from_year_of_birth    <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ sex                       <chr> \"Female\", \"Male\", \"Female\", \"Female\", \"Male\"… cdm$condition_occurrence <- cdm$condition_occurrence |>   addInObservation(indexDate = \"condition_start_date\") |>   addPriorObservation(indexDate = \"condition_start_date\") |>   addFutureObservation(indexDate = \"condition_start_date\")  cdm$condition_occurrence |>   glimpse() ## Rows: ?? ## Columns: 13 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ age_group                 <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"18 to 65\"… ## $ age_from_year_of_birth    <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ sex                       <chr> \"Female\", \"Male\", \"Female\", \"Female\", \"Male\"… ## $ in_observation            <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,… ## $ prior_observation         <int> 578, 3297, 7900, 8409, 10879, 9565, 2697, 57… ## $ future_observation        <int> 14672, 10185, 12460, 1601, 2901, 4798, 9016,… cdm$condition_occurrence |>   addInObservation(     indexDate = \"condition_start_date\",     window = c(-180, 30)   ) |>   glimpse() ## Rows: ?? ## Columns: 13 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ age_group                 <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"18 to 65\"… ## $ age_from_year_of_birth    <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ sex                       <chr> \"Female\", \"Male\", \"Female\", \"Female\", \"Male\"… ## $ prior_observation         <int> 578, 3297, 7900, 8409, 10879, 9565, 2697, 57… ## $ future_observation        <int> 14672, 10185, 12460, 1601, 2901, 4798, 9016,… ## $ in_observation            <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,… cdm$condition_occurrence |>   addInObservation(     indexDate = \"condition_start_date\",     window = c(365, Inf),     completeInterval = FALSE   ) |>   glimpse() ## Rows: ?? ## Columns: 13 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ person_id                 <int> 74, 266, 318, 410, 427, 434, 450, 457, 468, … ## $ condition_start_date      <date> 1969-08-01, 1936-01-11, 1952-08-18, 1957-01… ## $ condition_end_date        <date> 1978-06-27, 1959-01-10, 1967-10-03, 1957-09… ## $ condition_occurrence_id   <int> 21, 81, 88, 105, 109, 117, 32, 41, 36, 82, 7… ## $ condition_concept_id      <int> 2, 1, 1, 8, 10, 3, 3, 9, 1, 1, 5, 2, 6, 3, 7… ## $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… ## $ age                       <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ age_group                 <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"18 to 65\"… ## $ age_from_year_of_birth    <int> 1, 9, 21, 23, 29, 26, 7, 15, 8, 6, 14, 26, 2… ## $ sex                       <chr> \"Female\", \"Male\", \"Female\", \"Female\", \"Male\"… ## $ prior_observation         <int> 578, 3297, 7900, 8409, 10879, 9565, 2697, 57… ## $ future_observation        <int> 14672, 10185, 12460, 1601, 2901, 4798, 9016,… ## $ in_observation            <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/demographics.html","id":"adding-characteristics-to-a-cohort-tables","dir":"Articles","previous_headings":"","what":"Adding characteristics to a cohort tables","title":"Adding patient demographics","text":"functions can used standard OMOP CDM tables cohort tables. Note default index date functions “cohort_start_date” can now omit .","code":"cdm$cohort1 |>   glimpse() ## Rows: ?? ## Columns: 4 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 1, 1, 1, 1, 2, 1, 3, 2, 2, 2, 1, 3, 3, 1, 3, 2, 3… ## $ subject_id           <int> 5853, 1622, 8574, 6414, 7299, 4793, 6541, 1029, 5… ## $ cohort_start_date    <date> 1964-06-05, 1927-03-08, 1955-08-04, 1963-06-12, … ## $ cohort_end_date      <date> 1964-12-11, 1934-04-21, 1958-05-01, 1983-11-26, … cdm$cohort1 <- cdm$cohort1 |>   addAge(ageGroup = list(     \"0 to 17\" = c(0, 17),     \"18 to 65\" = c(18, 65),     \">= 66\" = c(66, Inf)   )) |>   addSex() |>   addInObservation() |>   addPriorObservation() |>   addFutureObservation()  cdm$cohort1 |>   glimpse() ## Rows: ?? ## Columns: 10 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 3, 2, 1, 1, 3, 2, 1, 3, 3, 2, 2, 1, 2, 3, 3, 3, 2… ## $ subject_id           <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15… ## $ cohort_start_date    <date> 1957-08-12, 1957-03-05, 1985-01-22, 1909-02-23, … ## $ cohort_end_date      <date> 1966-11-16, 1960-04-16, 1999-11-20, 1934-12-29, … ## $ age                  <int> 17, 5, 27, 3, 0, 6, 22, 33, 10, 2, 11, 4, 21, 10,… ## $ age_group            <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"0 to 17\", \"0 t… ## $ sex                  <chr> \"Female\", \"Female\", \"Male\", \"Female\", \"Female\", \"… ## $ in_observation       <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… ## $ prior_observation    <int> 6433, 1890, 9883, 1149, 293, 2331, 8400, 12221, 3… ## $ future_observation   <int> 4258, 7357, 5795, 10317, 2482, 9935, 672, 4918, 6…"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/demographics.html","id":"getting-multiple-characteristics-at-once","dir":"Articles","previous_headings":"","what":"Getting multiple characteristics at once","title":"Adding patient demographics","text":"functions, chained together, fetch related information one one. cases interested adding multiple characteristics, can add time using general addDemographics() functions. efficient adding characteristics requires fewer joins table interest person observation period tables. small mock dataset see small improvement performance, difference become much noticeable working real data typically far larger.","code":"cdm$cohort2 |>   glimpse() ## Rows: ?? ## Columns: 4 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 3, 3, 1, 3, 1, 1, 2, 3, 3, 1, 2, 1, 2, 2, 1, 1, 3… ## $ subject_id           <int> 6688, 3035, 5292, 1351, 8144, 699, 8733, 1007, 68… ## $ cohort_start_date    <date> 1999-06-28, 1977-03-24, 1931-10-19, 1993-07-08, … ## $ cohort_end_date      <date> 2019-08-31, 1988-06-17, 1937-06-27, 2003-11-19, … tictoc::tic() cdm$cohort2 |>   addAge(ageGroup = list(     \"0 to 17\" = c(0, 17),     \"18 to 65\" = c(18, 65),     \">= 66\" = c(66, Inf)   )) |>   addSex() |>   addInObservation() |>   addPriorObservation() |>   addFutureObservation() ## # Source:   table<og_024_1751200025> [?? x 10] ## # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ##    cohort_definition_id subject_id cohort_start_date cohort_end_date   age ##                   <int>      <int> <date>            <date>          <int> ##  1                    2          1 1940-11-29        1959-10-09          0 ##  2                    3          2 1963-05-30        1977-03-31         11 ##  3                    2          3 1993-09-04        1995-07-27         35 ##  4                    3          4 1923-10-12        1926-04-27         17 ##  5                    3          5 1954-06-30        1955-12-24          4 ##  6                    2          6 1923-07-07        1940-06-01          6 ##  7                    3          7 1989-02-22        1991-02-24         22 ##  8                    2          8 1992-10-16        2017-04-23         20 ##  9                    3          9 1985-09-19        1997-05-06         12 ## 10                    3         10 1935-05-26        1936-02-06         12 ## # ℹ more rows ## # ℹ 5 more variables: age_group <chr>, sex <chr>, in_observation <int>, ## #   prior_observation <int>, future_observation <int> tictoc::toc() ## 1.126 sec elapsed tictoc::tic() cdm$cohort2 |>   addDemographics(     age = TRUE,     ageName = \"age\",     ageGroup = list(       \"0 to 17\" = c(0, 17),       \"18 to 65\" = c(18, 65),       \">= 66\" = c(66, Inf)     ),     sex = TRUE,     sexName = \"sex\",     priorObservation = TRUE,     priorObservationName = \"prior_observation\",     futureObservation = FALSE,   ) |>   glimpse() ## Rows: ?? ## Columns: 8 ## Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] ## $ cohort_definition_id <int> 2, 3, 2, 3, 3, 2, 3, 2, 3, 3, 2, 1, 2, 3, 2, 3, 2… ## $ subject_id           <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15… ## $ cohort_start_date    <date> 1940-11-29, 1963-05-30, 1993-09-04, 1923-10-12, … ## $ cohort_end_date      <date> 1959-10-09, 1977-03-31, 1995-07-27, 1926-04-27, … ## $ age                  <int> 0, 11, 35, 17, 4, 6, 22, 20, 12, 12, 14, 25, 2, 2… ## $ age_group            <chr> \"0 to 17\", \"0 to 17\", \"18 to 65\", \"0 to 17\", \"0 t… ## $ sex                  <chr> \"Female\", \"Female\", \"Male\", \"Female\", \"Female\", \"… ## $ prior_observation    <int> 333, 4167, 13030, 6493, 1641, 2378, 8088, 7594, 4… tictoc::toc() ## 0.432 sec elapsed"},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/summarise.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Summarise result","text":"previous vignettes seen add patient level demographics (age, sex, prior observation, …) intersections cohorts , concepts tables. added several columns table interest may want summarise data summarised_result object using several different estimates.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/summarise.html","id":"variables-type","dir":"Articles","previous_headings":"Introduction","what":"Variables type","title":"Summarise result","text":"support different types variables, variable type assigned using dplyr::type_sum: Date: date dttm. Numeric: dbl drtn. Integer: int int64. Categorical: chr, fct ord. Logical: lgl.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/summarise.html","id":"estimates-names","dir":"Articles","previous_headings":"Introduction","what":"Estimates names","title":"Summarise result","text":"can summarise data using different estimates:","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/articles/summarise.html","id":"summarise-our-first-table","dir":"Articles","previous_headings":"","what":"Summarise our first table","title":"Summarise result","text":"Lets get started creating data going summarise: table (x) cohort first occurrences sinusitis, added: demographics; counts 3 ingredients, time prior time index date; flag indicating pharyngitis ; date first visit; , finally, time next visit. want summarise age stratified sex use tidyverse functions like: give us first insight differences age. output going standardised format. PatientProfiles built function : Allow get standardised output. wide range estimates can get. don’t worry functions supported database side (e.g. dbms support quantile function). example get information like using: can stratify results also “pharyngitis_before”: Note interaction term included, want include specify follows: can remove overall strata includeOverallStrata option: results model two levels grouping (group strata), can specify independently: can add remove number subjects records (person identifier found) counts counts parameter: want specify different groups estimates per different groups variables can use lists: example complete analysis :","code":"library(duckdb) #> Loading required package: DBI library(CDMConnector) library(PatientProfiles) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(CodelistGenerator)  requireEunomia() cdm <- cdmFromCon(   con = dbConnect(duckdb(), eunomiaDir()),   cdmSchema = \"main\",   writeSchema = \"main\" ) cdm <- generateConceptCohortSet(   cdm = cdm,   conceptSet = list(\"sinusitis\" = c(4294548, 4283893, 40481087, 257012)),   limit = \"first\",   name = \"my_cohort\" ) cdm <- generateConceptCohortSet(   cdm = cdm,   conceptSet = getDrugIngredientCodes(cdm = cdm, name = c(\"morphine\", \"aspirin\", \"oxycodone\")),   name = \"drugs\" )  x <- cdm$my_cohort |>   # add demographics variables   addDemographics() |>   # add number of counts per ingredient before and after index date   addCohortIntersectCount(     targetCohortTable = \"drugs\",     window = list(\"prior\" = c(-Inf, -1), \"future\" = c(1, Inf)),     nameStyle = \"{window_name}_{cohort_name}\"   ) |>   # add a flag regarding if they had a prior occurrence of pharyngitis   addConceptIntersectFlag(     conceptSet = list(pharyngitis = 4112343),     window = c(-Inf, -1),     nameStyle = \"pharyngitis_before\"   ) |>   # date fo the first visit for that individual   addTableIntersectDate(     tableName = \"visit_occurrence\",     window = c(-Inf, Inf),     nameStyle = \"first_visit\"   ) |>   # time till the next visit after sinusitis   addTableIntersectDays(     tableName = \"visit_occurrence\",     window = c(1, Inf),     nameStyle = \"days_to_next_visit\"   ) #> Warning: ! `codelist` casted to integers.  x |>   glimpse() #> Rows: ?? #> Columns: 17 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/RtmpF49rPW/file24261a6bf586.duckdb] #> $ cohort_definition_id  <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ subject_id            <int> 42, 187, 96, 32, 5, 222, 1, 176, 116, 236, 101, … #> $ cohort_start_date     <date> 1926-05-12, 1953-02-18, 1933-11-16, 1967-01-29,… #> $ cohort_end_date       <date> 2019-03-13, 2018-11-19, 1997-02-01, 2014-12-24,… #> $ age                   <int> 16, 7, 8, 23, 9, 6, 18, 4, 12, 6, 4, 2, 23, 4, 3… #> $ sex                   <chr> \"Female\", \"Male\", \"Male\", \"Male\", \"Male\", \"Femal… #> $ prior_observation     <int> 6034, 2767, 3246, 8495, 3308, 2379, 6696, 1537, … #> $ future_observation    <int> 33908, 24015, 23088, 17496, 14990, 22191, 18987,… #> $ future_1191_aspirin   <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, … #> $ prior_7804_oxycodone  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, … #> $ prior_7052_morphine   <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ future_7804_oxycodone <dbl> 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, … #> $ future_7052_morphine  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ prior_1191_aspirin    <dbl> 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, … #> $ pharyngitis_before    <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ first_visit           <date> 1933-10-30, 1985-02-09, 1985-04-13, 1987-06-09,… #> $ days_to_next_visit    <dbl> 2728, 11679, 18776, 7436, 4619, 10966, 5194, 229… x |>   group_by(sex) |>   summarise(mean_age = mean(age), sd_age = sd(age)) #> Warning: Missing values are always removed in SQL aggregation functions. #> Use `na.rm = TRUE` to silence this warning #> This warning is displayed once every 8 hours. #> # Source:   SQL [?? x 3] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/RtmpF49rPW/file24261a6bf586.duckdb] #>   sex    mean_age sd_age #>   <chr>     <dbl>  <dbl> #> 1 Female     7.51   7.46 #> 2 Male       7.72   8.14 x |>   summariseResult(     strata = \"sex\",     variables = \"age\",     estimates = c(\"mean\", \"sd\"),     counts = FALSE   ) |>   select(strata_name, strata_level, variable_name, estimate_value) #> ℹ The following estimates will be computed: #> • age: mean, sd #> → Start summary of data, at 2025-06-29 12:27:20.034289 #>  #> ✔ Summary finished, at 2025-06-29 12:27:20.478013 #> # A tibble: 6 × 4 #>   strata_name strata_level variable_name estimate_value   #>   <chr>       <chr>        <chr>         <chr>            #> 1 overall     overall      age           7.61212346597248 #> 2 overall     overall      age           7.79743654397838 #> 3 sex         Female       age           7.5127644055434  #> 4 sex         Male         age           7.7154779969651  #> 5 sex         Female       age           7.45793686970358 #> 6 sex         Male         age           8.13712697581575 x |>   summariseResult(     strata = list(\"sex\", \"pharyngitis_before\"),     variables = \"age\",     estimates = c(\"mean\", \"sd\"),     counts = FALSE   ) |>   select(strata_name, strata_level, variable_name, estimate_value) #> ℹ The following estimates will be computed: #> • age: mean, sd #> → Start summary of data, at 2025-06-29 12:27:21.137146 #>  #> ✔ Summary finished, at 2025-06-29 12:27:21.840772 #> # A tibble: 10 × 4 #>    strata_name        strata_level variable_name estimate_value   #>    <chr>              <chr>        <chr>         <chr>            #>  1 overall            overall      age           7.61212346597248 #>  2 overall            overall      age           7.79743654397838 #>  3 sex                Female       age           7.5127644055434  #>  4 sex                Male         age           7.7154779969651  #>  5 sex                Female       age           7.45793686970358 #>  6 sex                Male         age           8.13712697581575 #>  7 pharyngitis_before 0            age           4.95620875824835 #>  8 pharyngitis_before 1            age           11.9442270058708 #>  9 pharyngitis_before 0            age           5.61220818358422 #> 10 pharyngitis_before 1            age           8.85279666294611 x |>   summariseResult(     strata = list(\"sex\", \"pharyngitis_before\", c(\"sex\", \"pharyngitis_before\")),     variables = \"age\",     estimates = c(\"mean\", \"sd\"),     counts = FALSE   ) |>   select(strata_name, strata_level, variable_name, estimate_value) |>   print(n = Inf) #> ℹ The following estimates will be computed: #> • age: mean, sd #> → Start summary of data, at 2025-06-29 12:27:22.500199 #>  #> ✔ Summary finished, at 2025-06-29 12:27:23.484255 #> # A tibble: 18 × 4 #>    strata_name                strata_level variable_name estimate_value   #>    <chr>                      <chr>        <chr>         <chr>            #>  1 overall                    overall      age           7.61212346597248 #>  2 overall                    overall      age           7.79743654397838 #>  3 sex                        Female       age           7.5127644055434  #>  4 sex                        Male         age           7.7154779969651  #>  5 sex                        Female       age           7.45793686970358 #>  6 sex                        Male         age           8.13712697581575 #>  7 pharyngitis_before         0            age           4.95620875824835 #>  8 pharyngitis_before         1            age           11.9442270058708 #>  9 pharyngitis_before         0            age           5.61220818358422 #> 10 pharyngitis_before         1            age           8.85279666294611 #> 11 sex &&& pharyngitis_before Female &&& 0 age           4.97596153846154 #> 12 sex &&& pharyngitis_before Female &&& 1 age           11.4285714285714 #> 13 sex &&& pharyngitis_before Male &&& 0   age           4.93652694610778 #> 14 sex &&& pharyngitis_before Male &&& 1   age           12.51966873706   #> 15 sex &&& pharyngitis_before Female &&& 0 age           5.61023639284453 #> 16 sex &&& pharyngitis_before Female &&& 1 age           8.22838499965833 #> 17 sex &&& pharyngitis_before Male &&& 0   age           5.61746547644658 #> 18 sex &&& pharyngitis_before Male &&& 1   age           9.47682947960302 x |>   summariseResult(     includeOverallStrata = FALSE,     strata = list(\"sex\", \"pharyngitis_before\"),     variables = \"age\",     estimates = c(\"mean\", \"sd\"),     counts = FALSE   ) |>   select(strata_name, strata_level, variable_name, estimate_value) |>   print(n = Inf) #> ℹ The following estimates will be computed: #> • age: mean, sd #> → Start summary of data, at 2025-06-29 12:27:24.148334 #>  #> ✔ Summary finished, at 2025-06-29 12:27:24.68133 #> # A tibble: 8 × 4 #>   strata_name        strata_level variable_name estimate_value   #>   <chr>              <chr>        <chr>         <chr>            #> 1 sex                Female       age           7.5127644055434  #> 2 sex                Male         age           7.7154779969651  #> 3 sex                Female       age           7.45793686970358 #> 4 sex                Male         age           8.13712697581575 #> 5 pharyngitis_before 0            age           4.95620875824835 #> 6 pharyngitis_before 1            age           11.9442270058708 #> 7 pharyngitis_before 0            age           5.61220818358422 #> 8 pharyngitis_before 1            age           8.85279666294611 x |>   addCohortName() |>   summariseResult(     group = \"cohort_name\",     includeOverallGroup = FALSE,     strata = list(\"sex\", \"pharyngitis_before\"),     includeOverallStrata = TRUE,     variables = \"age\",     estimates = c(\"mean\", \"sd\"),     counts = FALSE   ) |>   select(group_name, group_level, strata_name, strata_level, variable_name, estimate_value) |>   print(n = Inf) #> ℹ The following estimates will be computed: #> • age: mean, sd #> → Start summary of data, at 2025-06-29 12:27:25.566065 #>  #> ✔ Summary finished, at 2025-06-29 12:27:26.440872 #> # A tibble: 10 × 6 #>    group_name  group_level strata_name strata_level variable_name estimate_value #>    <chr>       <chr>       <chr>       <chr>        <chr>         <chr>          #>  1 cohort_name sinusitis   overall     overall      age           7.61212346597… #>  2 cohort_name sinusitis   overall     overall      age           7.79743654397… #>  3 cohort_name sinusitis   sex         Female       age           7.51276440554… #>  4 cohort_name sinusitis   sex         Male         age           7.71547799696… #>  5 cohort_name sinusitis   sex         Female       age           7.45793686970… #>  6 cohort_name sinusitis   sex         Male         age           8.13712697581… #>  7 cohort_name sinusitis   pharyngiti… 0            age           4.95620875824… #>  8 cohort_name sinusitis   pharyngiti… 1            age           11.9442270058… #>  9 cohort_name sinusitis   pharyngiti… 0            age           5.61220818358… #> 10 cohort_name sinusitis   pharyngiti… 1            age           8.85279666294… x |>   summariseResult(     variables = \"age\",     estimates = c(\"mean\", \"sd\"),     counts = TRUE   ) |>   select(strata_name, strata_level, variable_name, estimate_value) |>   print(n = Inf) #> ℹ The following estimates will be computed: #> • age: mean, sd #> → Start summary of data, at 2025-06-29 12:27:27.112439 #>  #> ✔ Summary finished, at 2025-06-29 12:27:27.393353 #> # A tibble: 4 × 4 #>   strata_name strata_level variable_name   estimate_value   #>   <chr>       <chr>        <chr>           <chr>            #> 1 overall     overall      number records  2689             #> 2 overall     overall      number subjects 2689             #> 3 overall     overall      age             7.61212346597248 #> 4 overall     overall      age             7.79743654397838 x |>   summariseResult(     strata = \"pharyngitis_before\",     includeOverallStrata = FALSE,     variables = list(c(\"age\", \"prior_observation\"), \"sex\"),     estimates = list(c(\"mean\", \"sd\"), c(\"count\", \"percentage\")),     counts = FALSE   ) |>   select(strata_name, strata_level, variable_name, estimate_value) |>   print(n = Inf) #> ℹ The following estimates will be computed: #> • age: mean, sd #> • prior_observation: mean, sd #> • sex: count, percentage #> → Start summary of data, at 2025-06-29 12:27:28.067629 #>  #> ✔ Summary finished, at 2025-06-29 12:27:28.535258 #> # A tibble: 16 × 4 #>    strata_name        strata_level variable_name     estimate_value   #>    <chr>              <chr>        <chr>             <chr>            #>  1 pharyngitis_before 0            age               4.95620875824835 #>  2 pharyngitis_before 1            age               11.9442270058708 #>  3 pharyngitis_before 0            age               5.61220818358422 #>  4 pharyngitis_before 1            age               8.85279666294611 #>  5 pharyngitis_before 0            sex               832              #>  6 pharyngitis_before 1            sex               539              #>  7 pharyngitis_before 0            sex               835              #>  8 pharyngitis_before 1            sex               483              #>  9 pharyngitis_before 0            sex               49.9100179964007 #> 10 pharyngitis_before 1            sex               52.7397260273973 #> 11 pharyngitis_before 0            sex               50.0899820035993 #> 12 pharyngitis_before 1            sex               47.2602739726027 #> 13 pharyngitis_before 0            prior_observation 1986.83443311338 #> 14 pharyngitis_before 1            prior_observation 4542.85812133072 #> 15 pharyngitis_before 0            prior_observation 2053.24325390978 #> 16 pharyngitis_before 1            prior_observation 3228.06460521218 drugs <- settings(cdm$drugs)$cohort_name x |>   addCohortName() |>   summariseResult(     group = \"cohort_name\",     includeOverallGroup = FALSE,     strata = list(\"pharyngitis_before\"),     includeOverallStrata = TRUE,     variables = list(       c(         \"age\", \"prior_observation\", \"future_observation\", paste0(\"prior_\", drugs),         paste0(\"future_\", drugs), \"days_to_next_visit\"       ),       c(\"sex\", \"pharyngitis_before\"),       c(\"first_visit\", \"cohort_start_date\", \"cohort_end_date\")     ),     estimates = list(       c(\"median\", \"q25\", \"q75\"),       c(\"count\", \"percentage\"),       c(\"median\", \"q25\", \"q75\", \"min\", \"max\")     ),     counts = TRUE   ) |>   select(group_name, group_level, strata_name, strata_level, variable_name, estimate_value) #> ℹ The following estimates will be computed: #> • age: median, q25, q75 #> • prior_observation: median, q25, q75 #> • future_observation: median, q25, q75 #> • prior_1191_aspirin: median, q25, q75 #> • prior_7052_morphine: median, q25, q75 #> • prior_7804_oxycodone: median, q25, q75 #> • future_1191_aspirin: median, q25, q75 #> • future_7052_morphine: median, q25, q75 #> • future_7804_oxycodone: median, q25, q75 #> • days_to_next_visit: median, q25, q75 #> • sex: count, percentage #> • pharyngitis_before: count, percentage #> • first_visit: median, q25, q75, min, max #> • cohort_start_date: median, q25, q75, min, max #> • cohort_end_date: median, q25, q75, min, max #> ! Table is collected to memory as not all requested estimates are supported on #>   the database side #> → Start summary of data, at 2025-06-29 12:27:29.516012 #>  #> ✔ Summary finished, at 2025-06-29 12:27:29.838712 #> # A tibble: 159 × 6 #>    group_name  group_level strata_name strata_level variable_name estimate_value #>    <chr>       <chr>       <chr>       <chr>        <chr>         <chr>          #>  1 cohort_name sinusitis   overall     overall      number recor… 2689           #>  2 cohort_name sinusitis   overall     overall      number subje… 2689           #>  3 cohort_name sinusitis   overall     overall      cohort_start… 1968-05-06     #>  4 cohort_name sinusitis   overall     overall      cohort_start… 1956-07-05     #>  5 cohort_name sinusitis   overall     overall      cohort_start… 1978-09-04     #>  6 cohort_name sinusitis   overall     overall      cohort_start… 1908-10-30     #>  7 cohort_name sinusitis   overall     overall      cohort_start… 2018-02-13     #>  8 cohort_name sinusitis   overall     overall      cohort_end_d… 2018-12-14     #>  9 cohort_name sinusitis   overall     overall      cohort_end_d… 2018-08-02     #> 10 cohort_name sinusitis   overall     overall      cohort_end_d… 2019-04-06     #> # ℹ 149 more rows"},{"path":"https://darwin-eu.github.io/PatientProfiles/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Marti Catala. Author, maintainer. Yuchen Guo. Author. Mike Du. Author. Kim Lopez-Guell. Author. Edward Burn. Author. Nuria Mercade-Besora. Author. Xintong Li. Contributor. Xihang Chen. Contributor.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Catala M, Guo Y, Du M, Lopez-Guell K, Burn E, Mercade-Besora N (2025). PatientProfiles: Identify Characteristics Patients OMOP Common Data Model. R package version 1.4.1, https://darwin-eu.github.io/PatientProfiles/.","code":"@Manual{,   title = {PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model},   author = {Marti Catala and Yuchen Guo and Mike Du and Kim Lopez-Guell and Edward Burn and Nuria Mercade-Besora},   year = {2025},   note = {R package version 1.4.1},   url = {https://darwin-eu.github.io/PatientProfiles/}, }"},{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"package-overview","dir":"","previous_headings":"","what":"Package overview","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"PatientProfiles contains functions adding characteristics OMOP CDM tables containing patient level data (e.g. condition occurrence, drug exposure, ) OMOP CDM cohort tables. characteristics can added include individual´s sex, age, days prior observation Time varying characteristics, age, can estimated relative date corresponding table. addition, PatientProfiles also provides functionality identifying intersections cohort table OMOP CDM tables containing patient level data cohort tables.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"package-installation","dir":"","previous_headings":"","what":"Package installation","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"can install latest version PatientProfiles like :","code":"install.packages(\"PatientProfiles\")"},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"","code":"citation(\"PatientProfiles\") #> To cite package 'PatientProfiles' in publications use: #>  #>   Catala M, Guo Y, Du M, Lopez-Guell K, Burn E, Mercade-Besora N #>   (????). _PatientProfiles: Identify Characteristics of Patients in the #>   OMOP Common Data Model_. R package version 1.3.1, #>   <https://darwin-eu.github.io/PatientProfiles/>. #>  #> A BibTeX entry for LaTeX users is #>  #>   @Manual{, #>     title = {PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model}, #>     author = {Marti Catala and Yuchen Guo and Mike Du and Kim Lopez-Guell and Edward Burn and Nuria Mercade-Besora}, #>     note = {R package version 1.3.1}, #>     url = {https://darwin-eu.github.io/PatientProfiles/}, #>   }"},{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"create-a-reference-to-data-in-the-omop-cdm-format","dir":"","previous_headings":"Example usage","what":"Create a reference to data in the OMOP CDM format","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"PatientProfiles package designed work data OMOP CDM format, first step create reference data using CDMConnector package. Creating connection Postgres database example look like: see create reference database please consult CDMConnector package documentation. example though ’ll work simulated data, ’ll generate example cdm reference like :","code":"library(CDMConnector) library(PatientProfiles) library(dplyr) con <- DBI::dbConnect(   RPostgres::Postgres(),   dbname = Sys.getenv(\"CDM5_POSTGRESQL_DBNAME\"),   host = Sys.getenv(\"CDM5_POSTGRESQL_HOST\"),   user = Sys.getenv(\"CDM5_POSTGRESQL_USER\"),   password = Sys.getenv(\"CDM5_POSTGRESQL_PASSWORD\") )  cdm <- cdmFromCon(   con,   cdmSchema = Sys.getenv(\"CDM5_POSTGRESQL_CDM_SCHEMA\"),   writeSchema = Sys.getenv(\"CDM5_POSTGRESQL_RESULT_SCHEMA\") ) cdm <- mockPatientProfiles(numberIndividuals = 1000)"},{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"adding-characteristics-to-patient-level-data","dir":"","previous_headings":"Example usage > Adding individuals´ characteristics","what":"Adding characteristics to patient-level data","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"Say wanted get individuals´sex age condition start date records condition occurrence table. can use addAge addSex functions : , example, limit data males aged 18 65","code":"cdm$condition_occurrence |>   glimpse() #> Rows: ?? #> Columns: 6 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ person_id                 <int> 156, 458, 327, 609, 621, 173, 549, 381, 578,… #> $ condition_start_date      <date> 1955-09-02, 1942-08-31, 1995-07-25, 1981-07… #> $ condition_end_date        <date> 1965-08-19, 1953-11-24, 1998-09-22, 1987-04… #> $ condition_occurrence_id   <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 1… #> $ condition_concept_id      <int> 2, 9, 5, 5, 3, 3, 4, 1, 9, 9, 9, 3, 10, 8, 4… #> $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…  cdm$condition_occurrence <- cdm$condition_occurrence |>   addAge(indexDate = \"condition_start_date\") |>   addSex()  cdm$condition_occurrence |>   glimpse() #> Rows: ?? #> Columns: 8 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ person_id                 <int> 156, 621, 173, 381, 557, 963, 653, 998, 719,… #> $ condition_start_date      <date> 1955-09-02, 1969-04-08, 1970-04-30, 1981-01… #> $ condition_end_date        <date> 1965-08-19, 1972-10-10, 1971-01-03, 1983-02… #> $ condition_occurrence_id   <int> 1, 5, 6, 8, 13, 14, 15, 19, 20, 22, 23, 24, … #> $ condition_concept_id      <int> 2, 3, 3, 1, 10, 8, 4, 10, 8, 10, 9, 1, 6, 8,… #> $ condition_type_concept_id <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ age                       <int> 3, 6, 5, 19, 21, 11, 30, 9, 21, 7, 13, 5, 2,… #> $ sex                       <chr> \"Female\", \"Female\", \"Female\", \"Female\", \"Mal… cdm$condition_occurrence |>   filter(age >= 18 & age <= 65) |>   filter(sex == \"Male\") #> # Source:   SQL [?? x 8] #> # Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #>    person_id condition_start_date condition_end_date condition_occurrence_id #>        <int> <date>               <date>                               <int> #>  1       557 1944-07-25           1952-04-19                              13 #>  2       351 1983-06-01           1994-12-31                              27 #>  3       194 2000-03-09           2000-09-29                              29 #>  4       199 1980-10-21           1982-04-19                              42 #>  5       833 1985-11-19           1989-08-19                              45 #>  6       444 1968-07-28           1968-10-27                              49 #>  7       131 1975-12-15           1977-06-01                              60 #>  8       345 1963-03-31           1964-08-23                              70 #>  9       273 1994-05-07           1996-06-21                              71 #> 10       495 1993-08-14           1998-04-26                              85 #> # ℹ more rows #> # ℹ 4 more variables: condition_concept_id <int>, #> #   condition_type_concept_id <int>, age <int>, sex <chr>"},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"adding-characteristics-of-a-cohort","dir":"","previous_headings":"Example usage > Adding individuals´ characteristics","what":"Adding characteristics of a cohort","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"tables OMOP CDM, can work similar way cohort tables. example, say cohort table can add age, age groups, sex, days prior observation cohort like use information subset cohort. example limiting least 365 days prior observation available cohort start date like ","code":"cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 3, 1, 1, 1, 1, 3, 2, 2, 2, 2, 1, 3, 1, 3, 1, 3, 2… #> $ subject_id           <int> 306, 387, 912, 870, 878, 45, 833, 149, 110, 616, … #> $ cohort_start_date    <date> 1930-04-19, 1989-05-12, 1973-08-21, 1915-07-03, … #> $ cohort_end_date      <date> 1942-01-05, 1998-01-16, 1977-03-13, 1929-02-26, … cdm$cohort1 <- cdm$cohort1 |>   addAge(     indexDate = \"cohort_start_date\",     ageGroup = list(c(0, 18), c(19, 65), c(66, 100))   ) |>   addSex() |>   addPriorObservation()  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 8 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 1, 1, 3, 2, 2, 1, 1, 3, 2, 2, 2, 3, 3, 1, 3, 1, 1… #> $ subject_id           <int> 387, 878, 45, 149, 616, 875, 508, 581, 268, 579, … #> $ cohort_start_date    <date> 1989-05-12, 1972-03-14, 1957-09-03, 1937-05-06, … #> $ cohort_end_date      <date> 1998-01-16, 1979-09-21, 1959-02-08, 1942-05-13, … #> $ age                  <int> 22, 7, 8, 5, 31, 20, 9, 21, 22, 9, 7, 10, 18, 8, … #> $ age_group            <chr> \"19 to 65\", \"0 to 18\", \"0 to 18\", \"0 to 18\", \"19 … #> $ sex                  <chr> \"Male\", \"Female\", \"Male\", \"Female\", \"Male\", \"Male… #> $ prior_observation    <int> 8167, 2629, 3167, 1952, 11535, 7502, 3411, 7839, … cdm$cohort1 |>   filter(prior_observation >= 365) #> # Source:   SQL [?? x 8] #> # Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date   age #>                   <int>      <int> <date>            <date>          <int> #>  1                    1        387 1989-05-12        1998-01-16         22 #>  2                    1        878 1972-03-14        1979-09-21          7 #>  3                    3         45 1957-09-03        1959-02-08          8 #>  4                    2        149 1937-05-06        1942-05-13          5 #>  5                    2        616 1970-08-01        1974-02-04         31 #>  6                    1        875 1990-07-17        1993-06-17         20 #>  7                    1        508 1939-05-05        1952-11-20          9 #>  8                    3        581 1989-06-18        1994-05-29         21 #>  9                    2        268 1944-10-25        1952-11-04         22 #> 10                    2        579 1939-01-29        1962-07-06          9 #> # ℹ more rows #> # ℹ 3 more variables: age_group <chr>, sex <chr>, prior_observation <int>"},{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"detect-the-presence-of-another-cohort-in-a-certain-window","dir":"","previous_headings":"Example usage > Cohort intersections","what":"Detect the presence of another cohort in a certain window","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"can use addCohortIntersectFlag add flag presence () cohort certain window.","code":"cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 2, 2, 2, 3, 2, 2, 2, 1, 1, 1 #> $ subject_id           <int> 5, 2, 1, 7, 10, 4, 8, 3, 6, 9 #> $ cohort_start_date    <date> 1968-12-04, 1938-06-13, 1906-07-16, 1945-11-11, 1… #> $ cohort_end_date      <date> 1968-12-27, 1948-07-14, 1907-02-09, 1946-08-25, 1…  cdm$cohort1 <- cdm$cohort1 |>   addCohortIntersectFlag(     targetCohortTable = \"cohort2\",     window = c(-Inf, -1)   )  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 7 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 2, 2, 1, 2, 2, 3, 2, 2, 1, 1 #> $ subject_id           <int> 5, 4, 6, 2, 1, 7, 10, 8, 3, 9 #> $ cohort_start_date    <date> 1968-12-04, 1926-12-18, 1966-04-26, 1938-06-13, 1… #> $ cohort_end_date      <date> 1968-12-27, 1939-10-18, 1985-01-13, 1948-07-14, 1… #> $ cohort_3_minf_to_m1  <dbl> 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 #> $ cohort_1_minf_to_m1  <dbl> 0, 1, 1, 0, 0, 0, 0, 0, 0, 0 #> $ cohort_2_minf_to_m1  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0"},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"count-appearances-of-a-certain-cohort-in-a-certain-window","dir":"","previous_headings":"Example usage > Cohort intersections","what":"Count appearances of a certain cohort in a certain window","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"wanted number appearances, instead use addCohortIntersectCount function","code":"cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 2, 3, 3, 3, 3, 1, 3, 1, 1, 2 #> $ subject_id           <int> 2, 3, 7, 10, 1, 5, 8, 6, 4, 9 #> $ cohort_start_date    <date> 2015-12-01, 1987-07-03, 1953-10-15, 1968-10-21, 1… #> $ cohort_end_date      <date> 2019-03-15, 2002-10-16, 1957-02-19, 1979-11-29, 1…  cdm$cohort1 <- cdm$cohort1 |>   addCohortIntersectCount(     targetCohortTable = \"cohort2\",     targetCohortId = 1,     window = list(\"short_term\" = c(1, 30), \"mid_term\" = c(31, 180))   )  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 6 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 1, 2, 2, 3, 3, 3, 3, 1, 3, 1 #> $ subject_id           <int> 4, 9, 2, 3, 7, 10, 1, 5, 8, 6 #> $ cohort_start_date    <date> 1953-04-13, 1977-10-03, 2015-12-01, 1987-07-03, 1… #> $ cohort_end_date      <date> 1974-09-21, 1981-04-22, 2019-03-15, 2002-10-16, 1… #> $ cohort_1_mid_term    <dbl> 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 #> $ cohort_1_short_term  <dbl> 1, 1, 0, 0, 0, 0, 0, 0, 0, 0"},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"add-a-column-with-the-firstlast-event-in-a-certain-window","dir":"","previous_headings":"Example usage > Cohort intersections","what":"Add a column with the first/last event in a certain window","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"Say wanted date individual another cohort can use addCohortIntersectDate function. might multiple records cohort, can also choose first last appearance cohort. First occurrence: Last occurrence:","code":"cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 2, 3, 1, 3, 1, 3, 1, 3, 2, 1 #> $ subject_id           <int> 5, 4, 9, 7, 2, 8, 3, 1, 10, 6 #> $ cohort_start_date    <date> 1941-08-04, 1945-09-24, 1937-10-13, 1929-07-16, 1… #> $ cohort_end_date      <date> 1942-06-25, 1981-02-18, 1937-11-05, 1929-11-22, 1…  cdm$cohort1 <- cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     targetCohortId = 1,     order = \"first\",     window = c(-Inf, Inf)   )  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 1, 3, 2, 3, 1, 3, 1, 3, 2, 1 #> $ subject_id           <int> 2, 8, 5, 4, 9, 7, 3, 1, 10, 6 #> $ cohort_start_date    <date> 1956-05-06, 1973-09-24, 1941-08-04, 1945-09-24, 1… #> $ cohort_end_date      <date> 1986-02-01, 1980-04-14, 1942-06-25, 1981-02-18, 1… #> $ cohort_1_minf_to_inf <date> 1979-06-01, 1966-08-16, NA, NA, NA, NA, NA, NA, … cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 3, 3, 2, 2, 1, 2, 2, 3, 3, 2 #> $ subject_id           <int> 2, 6, 4, 8, 10, 9, 1, 5, 3, 7 #> $ cohort_start_date    <date> 1944-08-01, 1947-06-17, 1904-03-09, 1957-03-05, 2… #> $ cohort_end_date      <date> 1946-08-20, 1951-02-15, 1927-06-28, 1962-09-09, 2…  cdm$cohort1 <- cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     targetCohortId = 1,     order = \"last\",     window = c(-Inf, Inf)   )  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 3, 2, 3, 3, 3, 2, 1, 2, 2, 2 #> $ subject_id           <int> 6, 4, 5, 3, 2, 8, 10, 9, 1, 7 #> $ cohort_start_date    <date> 1947-06-17, 1904-03-09, 1913-06-09, 1924-09-15, 1… #> $ cohort_end_date      <date> 1951-02-15, 1927-06-28, 1920-06-29, 1930-01-23, 1… #> $ cohort_1_minf_to_inf <date> 1936-02-23, 1906-08-30, 1930-05-25, 1935-04-03, …"},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"add-the-number-of-days-instead-of-the-date","dir":"","previous_headings":"Example usage > Cohort intersections","what":"Add the number of days instead of the date","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"Instead returning date, return days intersection using addCohortIntersectDays","code":"cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 1, 2, 1, 2, 2, 1, 3, 3, 1, 3 #> $ subject_id           <int> 5, 9, 10, 3, 4, 1, 2, 8, 7, 6 #> $ cohort_start_date    <date> 1908-03-05, 1904-07-25, 1956-01-18, 2012-03-18, 1… #> $ cohort_end_date      <date> 1909-07-11, 1908-01-27, 1969-04-26, 2013-12-06, 1…  cdm$cohort1 <- cdm$cohort1 |>   addCohortIntersectDays(     targetCohortTable = \"cohort2\",     targetCohortId = 1,     order = \"last\",     window = c(-Inf, Inf)   )  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 1, 2, 2, 2, 1, 1, 3, 3, 1, 3 #> $ subject_id           <int> 5, 9, 3, 4, 10, 1, 2, 8, 7, 6 #> $ cohort_start_date    <date> 1908-03-05, 1904-07-25, 2012-03-18, 1907-03-23, 1… #> $ cohort_end_date      <date> 1909-07-11, 1908-01-27, 2013-12-06, 1916-10-25, 1… #> $ cohort_1_minf_to_inf <dbl> 964, 937, -7714, 5191, NA, NA, NA, NA, NA, NA"},{"path":"https://darwin-eu.github.io/PatientProfiles/index.html","id":"combine-multiple-cohort-intersects","dir":"","previous_headings":"Example usage > Cohort intersections","what":"Combine multiple cohort intersects","title":"Identify Characteristics of Patients in the OMOP Common Data Model","text":"want combine multiple cohort intersects can concatenate operations using pipe operator:","code":"cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 4 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 2, 3, 2, 1, 3, 2, 2, 3, 3, 2 #> $ subject_id           <int> 9, 2, 7, 8, 1, 3, 5, 6, 4, 10 #> $ cohort_start_date    <date> 1976-04-06, 1950-11-24, 2010-05-13, 1949-09-30, 1… #> $ cohort_end_date      <date> 1992-07-18, 1955-08-08, 2010-09-07, 1957-09-29, 2…  cdm$cohort1 <- cdm$cohort1 |>   addCohortIntersectDate(     targetCohortTable = \"cohort2\",     targetCohortId = 1,     order = \"last\",     window = c(-Inf, Inf)   ) |>   addCohortIntersectCount(     targetCohortTable = \"cohort2\",     targetCohortId = 1,     window = c(-Inf, Inf)   )  cdm$cohort1 |>   glimpse() #> Rows: ?? #> Columns: 5 #> Database: DuckDB v1.2.0 [root@Darwin 24.3.0:R 4.4.1/:memory:] #> $ cohort_definition_id <int> 2, 3, 1, 3, 2, 3, 2, 2, 3, 2 #> $ subject_id           <int> 9, 2, 8, 1, 5, 6, 7, 3, 4, 10 #> $ cohort_start_date    <date> 1976-04-06, 1950-11-24, 1949-09-30, 1996-03-01, 1… #> $ cohort_end_date      <date> 1992-07-18, 1955-08-08, 1957-09-29, 2013-06-08, 2… #> $ cohort_1_minf_to_inf <dbl> 1, 1, 1, 1, 1, 1, 0, 0, 0, 0 mockDisconnect(cdm)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/PatientProfiles-package.html","id":null,"dir":"Reference","previous_headings":"","what":"PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model — PatientProfiles-package","title":"PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model — PatientProfiles-package","text":"Identify characteristics patients data mapped Observational Medical Outcomes Partnership (OMOP) common data model.","code":""},{"path":[]},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/PatientProfiles-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model — PatientProfiles-package","text":"Maintainer: Marti Catala marti.catalasabate@ndorms.ox.ac.uk (ORCID) Authors: Yuchen Guo yuchen.guo@ndorms.ox.ac.uk (ORCID) Mike Du mike.du@ndorms.ox.ac.uk (ORCID) Kim Lopez-Guell kim.lopez@spc.ox.ac.uk (ORCID) Edward Burn edward.burn@ndorms.ox.ac.uk (ORCID) Nuria Mercade-Besora nuria.mercadebesora@ndorms.ox.ac.uk (ORCID) contributors: Xintong Li xintong.li@ndorms.ox.ac.uk (ORCID) [contributor] Xihang Chen xihang.chen@ndorms.ox.ac.uk (ORCID) [contributor]","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAge.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the age of the individuals at a certain date — addAge","title":"Compute the age of the individuals at a certain date — addAge","text":"Compute age individuals certain date","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the age of the individuals at a certain date — addAge","text":"","code":"addAge(   x,   indexDate = \"cohort_start_date\",   ageName = \"age\",   ageGroup = NULL,   ageMissingMonth = 1,   ageMissingDay = 1,   ageImposeMonth = FALSE,   ageImposeDay = FALSE,   missingAgeGroupValue = \"None\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the age of the individuals at a certain date — addAge","text":"x Table individuals cdm. indexDate Variable x contains date compute age. ageName Name new column contains age. ageGroup List age groups added. ageMissingMonth Month year assigned individuals missing month birth. default: 1. ageMissingDay day month assigned individuals missing day birth. default: 1. ageImposeMonth Whether month date birth considered missing individuals. ageImposeDay Whether day date birth considered missing individuals. missingAgeGroupValue Value include missing age. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the age of the individuals at a certain date — addAge","text":"tibble age column added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the age of the individuals at a certain date — addAge","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addAge() #> # Source:   table<og_001_1751199863> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date   age #>                   <int>      <int> <date>            <date>          <int> #>  1                    1         10 1995-08-12        2002-08-14         33 #>  2                    2          4 1986-05-17        1986-07-22          7 #>  3                    3          6 1938-08-02        1938-08-19         36 #>  4                    1          7 1970-09-20        1973-06-22          8 #>  5                    3          9 1956-11-27        1965-01-19         13 #>  6                    1          2 1927-11-21        1933-10-31         22 #>  7                    1          3 1926-01-03        1931-07-22          2 #>  8                    1          5 1983-11-23        1990-12-19          6 #>  9                    1          1 1971-08-26        1979-02-11          2 #> 10                    2          8 1973-08-11        1978-10-05         18 mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAgeQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add the age of the individuals at a certain date — addAgeQuery","title":"Query to add the age of the individuals at a certain date — addAgeQuery","text":"`r lifecycle::badge(\"experimental\")` `addAge()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAgeQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add the age of the individuals at a certain date — addAgeQuery","text":"","code":"addAgeQuery(   x,   indexDate = \"cohort_start_date\",   ageName = \"age\",   ageGroup = NULL,   ageMissingMonth = 1,   ageMissingDay = 1,   ageImposeMonth = FALSE,   ageImposeDay = FALSE,   missingAgeGroupValue = \"None\" )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAgeQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add the age of the individuals at a certain date — addAgeQuery","text":"x Table individuals cdm. indexDate Variable x contains date compute age. ageName Name new column contains age. ageGroup List age groups added. ageMissingMonth Month year assigned individuals missing month birth. default: 1. ageMissingDay day month assigned individuals missing day birth. default: 1. ageImposeMonth Whether month date birth considered missing individuals. ageImposeDay Whether day date birth considered missing individuals. missingAgeGroupValue Value include missing age.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAgeQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add the age of the individuals at a certain date — addAgeQuery","text":"tibble age column added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addAgeQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add the age of the individuals at a certain date — addAgeQuery","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addAgeQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date   age #>                   <int>      <int> <date>            <date>          <int> #>  1                    1          4 1948-11-06        1950-08-02         22 #>  2                    3          8 1981-05-14        1997-02-24         25 #>  3                    2         10 1950-10-09        1955-07-29         42 #>  4                    3          5 1942-07-31        1942-08-29          6 #>  5                    2          9 1940-07-19        1941-10-31         20 #>  6                    3          3 1950-03-10        1951-04-15         40 #>  7                    2          1 1958-01-29        1971-06-15         14 #>  8                    1          7 1942-09-04        1947-07-28          8 #>  9                    2          2 1919-02-04        1937-02-18         12 #> 10                    3          6 1993-07-26        1993-08-05         45  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCategories.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize a numeric variable — addCategories","title":"Categorize a numeric variable — addCategories","text":"Categorize numeric variable","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCategories.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize a numeric variable — addCategories","text":"","code":"addCategories(   x,   variable,   categories,   missingCategoryValue = \"None\",   overlap = FALSE,   includeLowerBound = TRUE,   includeUpperBound = TRUE,   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCategories.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Categorize a numeric variable — addCategories","text":"x Table individuals cdm. variable Target variable want categorize. categories List lists named categories lower upper limit. missingCategoryValue Value assign individuals named category. NULL NA, missing values changed. overlap TRUE categories given overlap. includeLowerBound Whether include lower bound group. includeUpperBound Whether include upper bound group. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCategories.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Categorize a numeric variable — addCategories","text":"x table categorical variable added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCategories.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Categorize a numeric variable — addCategories","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  result <- cdm$cohort1 |>   addAge() |>   addCategories(     variable = \"age\",     categories = list(\"age_group\" = list(       \"0 to 39\" = c(0, 39), \"40 to 79\" = c(40, 79), \"80 to 150\" = c(80, 150)     ))   ) mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCdmName.html","id":null,"dir":"Reference","previous_headings":"","what":"Add cdm name — addCdmName","title":"Add cdm name — addCdmName","text":"Add cdm name","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCdmName.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add cdm name — addCdmName","text":"","code":"addCdmName(table, cdm = omopgenerics::cdmReference(table))"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCdmName.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add cdm name — addCdmName","text":"table Table cdm cdm cdm reference object","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCdmName.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add cdm name — addCdmName","text":"Table extra column cdm names","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCdmName.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add cdm name — addCdmName","text":"","code":"# \\donttest{ library(PatientProfiles)  cdm <- mockPatientProfiles() cdm$cohort1 |>   addCdmName() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date cdm_name #>                   <int>      <int> <date>            <date>          <chr>    #>  1                    3          2 1990-03-24        1993-07-05      PP_MOCK  #>  2                    3          4 1967-11-12        1983-07-03      PP_MOCK  #>  3                    3          6 1923-10-05        1925-11-21      PP_MOCK  #>  4                    2          5 1999-03-19        2003-07-23      PP_MOCK  #>  5                    3          7 1935-01-04        1937-03-15      PP_MOCK  #>  6                    1          1 1966-02-19        1968-05-07      PP_MOCK  #>  7                    2          9 1967-08-05        1983-06-26      PP_MOCK  #>  8                    3          8 1948-10-22        1951-08-05      PP_MOCK  #>  9                    3          3 1956-02-20        1962-06-23      PP_MOCK  #> 10                    1         10 2016-10-06        2024-12-11      PP_MOCK  # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectCount.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates columns to indicate number of occurrences of intersection with a cohort — addCohortIntersectCount","title":"It creates columns to indicate number of occurrences of intersection with a cohort — addCohortIntersectCount","text":"creates columns indicate number occurrences intersection cohort","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates columns to indicate number of occurrences of intersection with a cohort — addCohortIntersectCount","text":"","code":"addCohortIntersectCount(   x,   targetCohortTable,   targetCohortId = NULL,   indexDate = \"cohort_start_date\",   censorDate = NULL,   targetStartDate = \"cohort_start_date\",   targetEndDate = \"cohort_end_date\",   window = list(c(0, Inf)),   nameStyle = \"{cohort_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates columns to indicate number of occurrences of intersection with a cohort — addCohortIntersectCount","text":"x Table individuals cdm. targetCohortTable name cohort want check overlap. targetCohortId vector cohort definition ids include. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. targetStartDate date reference cohort table, either start (overlap) (incidence). targetEndDate date reference cohort table, either end (overlap) NULL (incidence). window window consider events . nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates columns to indicate number of occurrences of intersection with a cohort — addCohortIntersectCount","text":"table added columns overlap information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectCount.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates columns to indicate number of occurrences of intersection with a cohort — addCohortIntersectCount","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addCohortIntersectCount(     targetCohortTable = \"cohort2\"   ) #> # Source:   table<og_004_1751199871> [?? x 7] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          6 1980-09-12        2005-08-18      #>  2                    3         10 1975-11-09        1977-04-11      #>  3                    3          7 1983-04-18        2002-06-23      #>  4                    1          8 1930-02-14        1942-04-25      #>  5                    1          9 1953-11-05        1954-04-24      #>  6                    1          3 1969-10-19        1977-08-26      #>  7                    2          5 1923-06-04        1940-05-22      #>  8                    1          2 1993-09-24        1993-12-02      #>  9                    3          4 1970-08-12        1971-09-07      #> 10                    3          1 1978-12-03        1982-05-08      #> # ℹ 3 more variables: cohort_2_0_to_inf <dbl>, cohort_1_0_to_inf <dbl>, #> #   cohort_3_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDate.html","id":null,"dir":"Reference","previous_headings":"","what":"Date of cohorts that are present in a certain window — addCohortIntersectDate","title":"Date of cohorts that are present in a certain window — addCohortIntersectDate","text":"Date cohorts present certain window","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date of cohorts that are present in a certain window — addCohortIntersectDate","text":"","code":"addCohortIntersectDate(   x,   targetCohortTable,   targetCohortId = NULL,   indexDate = \"cohort_start_date\",   censorDate = NULL,   targetDate = \"cohort_start_date\",   order = \"first\",   window = c(0, Inf),   nameStyle = \"{cohort_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date of cohorts that are present in a certain window — addCohortIntersectDate","text":"x Table individuals cdm. targetCohortTable Cohort table . targetCohortId Cohort IDs interest cohort table. NULL, cohorts used time variable added cohort interest. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. targetDate Date interest cohort table. Either cohort_start_date cohort_end_date. order date use multiple records individual window interest. Either first last. window Window time identify records relative indexDate. Records outside time period ignored. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date of cohorts that are present in a certain window — addCohortIntersectDate","text":"x along additional columns cohort interest.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date of cohorts that are present in a certain window — addCohortIntersectDate","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addCohortIntersectDate(targetCohortTable = \"cohort2\") #> # Source:   table<og_014_1751199874> [?? x 7] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          2 1923-02-14        1926-02-19      #>  2                    3         10 2006-06-15        2017-05-06      #>  3                    3          9 2003-01-10        2006-06-01      #>  4                    1          1 1936-01-12        1936-08-21      #>  5                    2          5 1940-08-05        1940-09-14      #>  6                    3          6 1961-08-03        1963-05-20      #>  7                    3          8 1956-07-17        1957-08-06      #>  8                    1          4 1985-11-12        2000-10-01      #>  9                    1          3 1911-10-08        1913-04-20      #> 10                    3          7 1937-05-17        1940-11-20      #> # ℹ 3 more variables: cohort_2_0_to_inf <date>, cohort_3_0_to_inf <date>, #> #   cohort_1_0_to_inf <date>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDays.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates columns to indicate the number of days between the current table and a target cohort — addCohortIntersectDays","title":"It creates columns to indicate the number of days between the current table and a target cohort — addCohortIntersectDays","text":"creates columns indicate number days current table target cohort","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates columns to indicate the number of days between the current table and a target cohort — addCohortIntersectDays","text":"","code":"addCohortIntersectDays(   x,   targetCohortTable,   targetCohortId = NULL,   indexDate = \"cohort_start_date\",   censorDate = NULL,   targetDate = \"cohort_start_date\",   order = \"first\",   window = c(0, Inf),   nameStyle = \"{cohort_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDays.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates columns to indicate the number of days between the current table and a target cohort — addCohortIntersectDays","text":"x Table individuals cdm. targetCohortTable Cohort table . targetCohortId Cohort IDs interest cohort table. NULL, cohorts used days variable added cohort interest. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. targetDate Date interest cohort table. Either cohort_start_date cohort_end_date. order date use multiple records individual window interest. Either first last. window Window time identify records relative indexDate. Records outside time period ignored. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDays.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates columns to indicate the number of days between the current table and a target cohort — addCohortIntersectDays","text":"x along additional columns cohort interest.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectDays.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates columns to indicate the number of days between the current table and a target cohort — addCohortIntersectDays","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addCohortIntersectDays(targetCohortTable = \"cohort2\") #> # Source:   table<og_021_1751199877> [?? x 7] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    3          1 1957-05-28        1960-02-18      #>  2                    1         10 1951-03-24        1969-10-06      #>  3                    3          5 1958-01-08        1965-11-13      #>  4                    3          2 1988-11-20        2000-05-23      #>  5                    1          4 1955-01-13        1962-02-16      #>  6                    2          8 1997-04-11        2003-01-20      #>  7                    3          6 1985-05-23        1993-10-25      #>  8                    2          9 1961-12-14        1965-09-21      #>  9                    3          3 1951-12-31        1957-11-21      #> 10                    3          7 1978-06-08        1985-08-02      #> # ℹ 3 more variables: cohort_2_0_to_inf <dbl>, cohort_1_0_to_inf <dbl>, #> #   cohort_3_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectFlag.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates columns to indicate the presence of cohorts — addCohortIntersectFlag","title":"It creates columns to indicate the presence of cohorts — addCohortIntersectFlag","text":"creates columns indicate presence cohorts","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectFlag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates columns to indicate the presence of cohorts — addCohortIntersectFlag","text":"","code":"addCohortIntersectFlag(   x,   targetCohortTable,   targetCohortId = NULL,   indexDate = \"cohort_start_date\",   censorDate = NULL,   targetStartDate = \"cohort_start_date\",   targetEndDate = \"cohort_end_date\",   window = list(c(0, Inf)),   nameStyle = \"{cohort_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectFlag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates columns to indicate the presence of cohorts — addCohortIntersectFlag","text":"x Table individuals cdm. targetCohortTable name cohort want check overlap. targetCohortId vector cohort definition ids include. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. targetStartDate date reference cohort table, either start (overlap) (incidence). targetEndDate date reference cohort table, either end (overlap) NULL (incidence). window window consider events . nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectFlag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates columns to indicate the presence of cohorts — addCohortIntersectFlag","text":"table added columns overlap information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortIntersectFlag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates columns to indicate the presence of cohorts — addCohortIntersectFlag","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addCohortIntersectFlag(     targetCohortTable = \"cohort2\"   ) #> # Source:   table<og_027_1751199880> [?? x 7] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          3 1952-10-08        1958-09-10      #>  2                    3          4 1941-08-11        1947-04-26      #>  3                    3          5 1990-05-15        1995-07-25      #>  4                    2          9 1936-08-20        1944-12-19      #>  5                    3          7 1967-01-03        1972-10-31      #>  6                    1         10 1919-04-06        1939-09-01      #>  7                    3          2 1951-07-30        1955-01-08      #>  8                    2          8 1950-08-19        1977-04-20      #>  9                    3          6 1952-06-04        1965-07-15      #> 10                    3          1 1948-05-23        1966-02-05      #> # ℹ 3 more variables: cohort_3_0_to_inf <dbl>, cohort_1_0_to_inf <dbl>, #> #   cohort_2_0_to_inf <dbl> mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortName.html","id":null,"dir":"Reference","previous_headings":"","what":"Add cohort name for each cohort_definition_id — addCohortName","title":"Add cohort name for each cohort_definition_id — addCohortName","text":"Add cohort name cohort_definition_id","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortName.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add cohort name for each cohort_definition_id — addCohortName","text":"","code":"addCohortName(cohort)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortName.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add cohort name for each cohort_definition_id — addCohortName","text":"cohort cohort add cohort name","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortName.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add cohort name for each cohort_definition_id — addCohortName","text":"cohort extra column cohort names","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addCohortName.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add cohort name for each cohort_definition_id — addCohortName","text":"","code":"# \\donttest{ library(PatientProfiles)  cdm <- mockPatientProfiles() cdm$cohort1 |>   addCohortName() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date cohort_name #>                   <int>      <int> <date>            <date>          <chr>       #>  1                    2          6 1962-05-15        1980-12-24      cohort_2    #>  2                    3          5 1940-09-14        1954-11-21      cohort_3    #>  3                    2          7 1971-01-26        1975-08-12      cohort_2    #>  4                    3          1 1948-10-20        1966-10-26      cohort_3    #>  5                    1          3 1957-10-29        1962-07-29      cohort_1    #>  6                    2         10 1974-12-24        1976-07-06      cohort_2    #>  7                    1          8 1991-08-31        1991-10-03      cohort_1    #>  8                    1          4 1923-05-31        1931-06-08      cohort_1    #>  9                    3          2 1935-08-08        1937-09-14      cohort_3    #> 10                    1          9 1962-01-21        1971-12-16      cohort_1    # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectCount.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates column to indicate the count overlap information between a table and a concept — addConceptIntersectCount","title":"It creates column to indicate the count overlap information between a table and a concept — addConceptIntersectCount","text":"creates column indicate count overlap information table concept","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates column to indicate the count overlap information between a table and a concept — addConceptIntersectCount","text":"","code":"addConceptIntersectCount(   x,   conceptSet,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetStartDate = \"event_start_date\",   targetEndDate = \"event_end_date\",   inObservation = TRUE,   nameStyle = \"{concept_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates column to indicate the count overlap information between a table and a concept — addConceptIntersectCount","text":"x Table individuals cdm. conceptSet Concept set list. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events date column x window window consider events . targetStartDate Event start date use intersection. targetEndDate Event end date use intersection. inObservation TRUE records inside observation period considered. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates column to indicate the count overlap information between a table and a concept — addConceptIntersectCount","text":"table added columns overlap information","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectCount.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates column to indicate the count overlap information between a table and a concept — addConceptIntersectCount","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles() concept <- dplyr::tibble(   concept_id = c(1125315),   domain_id = \"Drug\",   vocabulary_id = NA_character_,   concept_class_id = \"Ingredient\",   standard_concept = \"S\",   concept_code = NA_character_,   valid_start_date = as.Date(\"1900-01-01\"),   valid_end_date = as.Date(\"2099-01-01\"),   invalid_reason = NA_character_ ) |>   dplyr::mutate(concept_name = paste0(\"concept: \", .data$concept_id)) cdm <- CDMConnector::insertTable(cdm, \"concept\", concept)  cdm$cohort1 |>   addConceptIntersectCount(conceptSet = list(\"acetaminophen\" = 1125315)) #> Warning: ! `codelist` casted to integers. #> # Source:   table<og_039_1751199885> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          6 1974-12-08        1976-09-22      #>  2                    1          4 1917-06-20        1930-10-24      #>  3                    3          3 1921-09-19        1924-01-07      #>  4                    1          1 1954-02-08        1997-09-25      #>  5                    1          8 2002-01-02        2005-01-26      #>  6                    1          7 1903-07-20        1907-03-21      #>  7                    3          2 1961-01-02        1968-03-22      #>  8                    3         10 1983-10-05        1986-12-08      #>  9                    3          5 1962-10-29        1965-11-10      #> 10                    2          9 1956-11-03        1957-01-08      #> # ℹ 1 more variable: acetaminophen_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDate.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates column to indicate the date overlap information between a table and a concept — addConceptIntersectDate","title":"It creates column to indicate the date overlap information between a table and a concept — addConceptIntersectDate","text":"creates column indicate date overlap information table concept","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates column to indicate the date overlap information between a table and a concept — addConceptIntersectDate","text":"","code":"addConceptIntersectDate(   x,   conceptSet,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetDate = \"event_start_date\",   order = \"first\",   inObservation = TRUE,   nameStyle = \"{concept_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates column to indicate the date overlap information between a table and a concept — addConceptIntersectDate","text":"x Table individuals cdm. conceptSet Concept set list. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events date column x window window consider events . targetDate Event date use intersection. order last first date use date/days calculations. inObservation TRUE records inside observation period considered. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates column to indicate the date overlap information between a table and a concept — addConceptIntersectDate","text":"table added columns overlap information","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates column to indicate the date overlap information between a table and a concept — addConceptIntersectDate","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles() concept <- dplyr::tibble(   concept_id = c(1125315),   domain_id = \"Drug\",   vocabulary_id = NA_character_,   concept_class_id = \"Ingredient\",   standard_concept = \"S\",   concept_code = NA_character_,   valid_start_date = as.Date(\"1900-01-01\"),   valid_end_date = as.Date(\"2099-01-01\"),   invalid_reason = NA_character_ ) |>   dplyr::mutate(concept_name = paste0(\"concept: \", .data$concept_id)) cdm <- CDMConnector::insertTable(cdm, \"concept\", concept)  cdm$cohort1 |>   addConceptIntersectDate(conceptSet = list(\"acetaminophen\" = 1125315)) #> Warning: ! `codelist` casted to integers. #> # Source:   table<og_052_1751199889> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    3          8 2015-07-04        2016-07-05      #>  2                    2          2 1954-12-27        1988-12-04      #>  3                    3          7 1949-04-10        1992-01-21      #>  4                    2         10 2006-01-13        2009-11-18      #>  5                    1          4 1978-07-14        1995-03-14      #>  6                    1          1 1951-04-24        1951-06-25      #>  7                    1          9 1935-07-29        1950-08-08      #>  8                    1          3 1946-05-04        1951-12-29      #>  9                    2          6 1930-07-04        1947-10-09      #> 10                    3          5 1976-08-29        1981-12-03      #> # ℹ 1 more variable: acetaminophen_0_to_inf <date>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDays.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates column to indicate the days of difference from an index date to a concept — addConceptIntersectDays","title":"It creates column to indicate the days of difference from an index date to a concept — addConceptIntersectDays","text":"creates column indicate days difference index date concept","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates column to indicate the days of difference from an index date to a concept — addConceptIntersectDays","text":"","code":"addConceptIntersectDays(   x,   conceptSet,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetDate = \"event_start_date\",   order = \"first\",   inObservation = TRUE,   nameStyle = \"{concept_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDays.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates column to indicate the days of difference from an index date to a concept — addConceptIntersectDays","text":"x Table individuals cdm. conceptSet Concept set list. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events date column x window window consider events . targetDate Event date use intersection. order last first date use date/days calculations. inObservation TRUE records inside observation period considered. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDays.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates column to indicate the days of difference from an index date to a concept — addConceptIntersectDays","text":"table added columns overlap information","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectDays.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates column to indicate the days of difference from an index date to a concept — addConceptIntersectDays","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles() concept <- dplyr::tibble(   concept_id = c(1125315),   domain_id = \"Drug\",   vocabulary_id = NA_character_,   concept_class_id = \"Ingredient\",   standard_concept = \"S\",   concept_code = NA_character_,   valid_start_date = as.Date(\"1900-01-01\"),   valid_end_date = as.Date(\"2099-01-01\"),   invalid_reason = NA_character_ ) |>   dplyr::mutate(concept_name = paste0(\"concept: \", .data$concept_id)) cdm <- CDMConnector::insertTable(cdm, \"concept\", concept)  cdm$cohort1 |>   addConceptIntersectDays(conceptSet = list(\"acetaminophen\" = 1125315)) #> Warning: ! `codelist` casted to integers. #> # Source:   table<og_062_1751199892> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    3          7 1994-04-10        2001-11-07      #>  2                    2          9 1929-02-13        1940-06-25      #>  3                    1          8 1965-10-03        1967-11-21      #>  4                    3          5 1965-12-17        1967-04-28      #>  5                    2         10 1938-10-09        1953-06-22      #>  6                    2          2 1944-07-27        1945-11-03      #>  7                    1          3 1960-04-15        1966-10-06      #>  8                    2          6 1970-08-02        1972-05-14      #>  9                    2          4 1960-04-16        1962-06-15      #> 10                    2          1 1942-08-04        1944-01-25      #> # ℹ 1 more variable: acetaminophen_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectField.html","id":null,"dir":"Reference","previous_headings":"","what":"It adds a custom column (field) from the intersection with a certain table subsetted by concept id. In general it is used to add the first value of a certain measurement. — addConceptIntersectField","title":"It adds a custom column (field) from the intersection with a certain table subsetted by concept id. In general it is used to add the first value of a certain measurement. — addConceptIntersectField","text":"adds custom column (field) intersection certain table subsetted concept id. general used add first value certain measurement.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectField.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It adds a custom column (field) from the intersection with a certain table subsetted by concept id. In general it is used to add the first value of a certain measurement. — addConceptIntersectField","text":"","code":"addConceptIntersectField(   x,   conceptSet,   field,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetDate = \"event_start_date\",   order = \"first\",   inObservation = TRUE,   allowDuplicates = FALSE,   nameStyle = \"{field}_{concept_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectField.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It adds a custom column (field) from the intersection with a certain table subsetted by concept id. In general it is used to add the first value of a certain measurement. — addConceptIntersectField","text":"x Table individuals cdm. conceptSet Concept set list. field Column standard omop table want add. indexDate Variable x contains date compute intersection. censorDate Whether censor overlap events date column x window Window consider events . targetDate Event date use intersection. order 'last' 'first' refer event consider multiple events present window. inObservation TRUE records inside observation period considered. allowDuplicates Whether allow multiple records conceptSet, person_id targetDate. switched TRUE, can different unpredictable behavior depending cdm_source. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectField.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It adds a custom column (field) from the intersection with a certain table subsetted by concept id. In general it is used to add the first value of a certain measurement. — addConceptIntersectField","text":"Table `field` value obtained intersection","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectField.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It adds a custom column (field) from the intersection with a certain table subsetted by concept id. In general it is used to add the first value of a certain measurement. — addConceptIntersectField","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles() concept <- dplyr::tibble(   concept_id = c(1125315),   domain_id = \"Drug\",   vocabulary_id = NA_character_,   concept_class_id = \"Ingredient\",   standard_concept = \"S\",   concept_code = NA_character_,   valid_start_date = as.Date(\"1900-01-01\"),   valid_end_date = as.Date(\"2099-01-01\"),   invalid_reason = NA_character_ ) |>   dplyr::mutate(concept_name = paste0(\"concept: \", .data$concept_id)) cdm <- CDMConnector::insertTable(cdm, \"concept\", concept)  cdm$cohort1 |>   addConceptIntersectField(     conceptSet = list(\"acetaminophen\" = 1125315),     field = \"drug_type_concept_id\"   ) #> Warning: ! `codelist` casted to integers. #> # Source:   table<og_072_1751199895> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          8 1941-07-12        1957-05-12      #>  2                    2          3 1994-05-22        1997-11-08      #>  3                    3          5 1980-09-16        1980-09-21      #>  4                    1         10 1949-11-26        1955-08-07      #>  5                    2          1 1922-11-21        1923-02-25      #>  6                    3          7 1994-07-30        2016-07-22      #>  7                    2          4 1995-03-09        1996-04-10      #>  8                    1          6 1937-02-06        1937-12-23      #>  9                    3          2 1975-12-19        1981-01-05      #> 10                    3          9 1990-06-29        1991-06-01      #> # ℹ 1 more variable: drug_type_concept_id_acetaminophen_0_to_inf <chr>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectFlag.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates column to indicate the flag overlap information between a table and a concept — addConceptIntersectFlag","title":"It creates column to indicate the flag overlap information between a table and a concept — addConceptIntersectFlag","text":"creates column indicate flag overlap information table concept","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectFlag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates column to indicate the flag overlap information between a table and a concept — addConceptIntersectFlag","text":"","code":"addConceptIntersectFlag(   x,   conceptSet,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetStartDate = \"event_start_date\",   targetEndDate = \"event_end_date\",   inObservation = TRUE,   nameStyle = \"{concept_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectFlag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates column to indicate the flag overlap information between a table and a concept — addConceptIntersectFlag","text":"x Table individuals cdm. conceptSet Concept set list. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events date column x window window consider events . targetStartDate Event start date use intersection. targetEndDate Event end date use intersection. inObservation TRUE records inside observation period considered. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectFlag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates column to indicate the flag overlap information between a table and a concept — addConceptIntersectFlag","text":"table added columns overlap information","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptIntersectFlag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates column to indicate the flag overlap information between a table and a concept — addConceptIntersectFlag","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles() concept <- dplyr::tibble(   concept_id = c(1125315),   domain_id = \"Drug\",   vocabulary_id = NA_character_,   concept_class_id = \"Ingredient\",   standard_concept = \"S\",   concept_code = NA_character_,   valid_start_date = as.Date(\"1900-01-01\"),   valid_end_date = as.Date(\"2099-01-01\"),   invalid_reason = NA_character_ ) |>   dplyr::mutate(concept_name = paste0(\"concept: \", .data$concept_id)) cdm <- CDMConnector::insertTable(cdm, \"concept\", concept)  cdm$cohort1 |>   addConceptIntersectFlag(conceptSet = list(\"acetaminophen\" = 1125315)) #> Warning: ! `codelist` casted to integers. #> # Source:   table<og_082_1751199898> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          2 1916-01-01        1936-02-18      #>  2                    2          3 1906-01-21        1916-06-29      #>  3                    1          4 1937-07-21        1940-10-11      #>  4                    1          7 1934-11-06        1940-05-06      #>  5                    3          5 1953-03-27        1986-11-03      #>  6                    2          9 1945-05-09        1955-11-24      #>  7                    1          6 1972-05-14        1975-05-25      #>  8                    2         10 1944-10-15        1949-07-15      #>  9                    2          8 1947-12-26        1968-03-18      #> 10                    2          1 2030-01-04        2031-09-23      #> # ℹ 1 more variable: acetaminophen_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptName.html","id":null,"dir":"Reference","previous_headings":"","what":"Add concept name for each concept_id — addConceptName","title":"Add concept name for each concept_id — addConceptName","text":"Add concept name concept_id","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptName.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add concept name for each concept_id — addConceptName","text":"","code":"addConceptName(table, column = NULL, nameStyle = \"{column}_name\")"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptName.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add concept name for each concept_id — addConceptName","text":"table cdm_table contains column. column Column add concept names . NULL column name ends `concept_id` used. nameStyle Name new column.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptName.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add concept name for each concept_id — addConceptName","text":"table extra column concept names.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addConceptName.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add concept name for each concept_id — addConceptName","text":"","code":"# \\donttest{ library(PatientProfiles) library(duckdb) #> Loading required package: DBI library(CDMConnector) library(dplyr, warn.conflicts = FALSE)  dbName <- \"GiBleed\" requireEunomia(datasetName = dbName) #> ℹ `EUNOMIA_DATA_FOLDER` set to: /tmp/Rtmpd3FAUj. #>  #> Download completed! con <- dbConnect(drv = duckdb(dbdir = eunomiaDir(datasetName = dbName))) #> Creating CDM database /tmp/Rtmpd3FAUj/GiBleed_5.3.zip cdm <- cdmFromCon(con = con, cdmSchema = \"main\", writeSchema = \"main\")  cdm$drug_exposure |>   addConceptName(column = \"drug_concept_id\", nameStyle = \"drug_name\") |>   glimpse() #> Rows: ?? #> Columns: 24 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmpd3FAUj/file1eb04b644046.duckdb] #> $ drug_exposure_id             <int> 26318, 60926, 26418, 54785, 47027, 38712,… #> $ person_id                    <int> 573, 1332, 576, 4550, 3895, 3199, 476, 11… #> $ drug_concept_id              <int> 40213160, 40213198, 40213260, 1118084, 40… #> $ drug_exposure_start_date     <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ drug_exposure_start_datetime <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ drug_exposure_end_date       <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ drug_exposure_end_datetime   <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ verbatim_end_date            <date> 1960-04-09, 2010-10-06, 2017-10-25, NA, … #> $ drug_type_concept_id         <int> 581452, 581452, 581452, 38000177, 3800017… #> $ stop_reason                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ refills                      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ quantity                     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ days_supply                  <int> 0, 0, 0, 0, 0, 14, 0, 0, 0, 60, 14, 28, 7… #> $ sig                          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ route_concept_id             <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ lot_number                   <chr> \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"… #> $ provider_id                  <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ visit_occurrence_id          <int> 38004, 88400, 38145, 303185, 259023, 2127… #> $ visit_detail_id              <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ drug_source_value            <chr> \"10\", \"133\", \"121\", \"00025152531\", \"85700… #> $ drug_source_concept_id       <int> 40213160, 40213198, 40213260, 44923712, 4… #> $ route_source_value           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ dose_unit_source_value       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ drug_name                    <chr> \"poliovirus vaccine, inactivated\", \"pneum…  cdm$drug_exposure |>   addConceptName() |>   glimpse() #> Rows: ?? #> Columns: 27 #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmpd3FAUj/file1eb04b644046.duckdb] #> $ drug_exposure_id             <int> 26318, 60926, 26418, 54785, 47027, 38712,… #> $ person_id                    <int> 573, 1332, 576, 4550, 3895, 3199, 476, 11… #> $ drug_concept_id              <int> 40213160, 40213198, 40213260, 1118084, 40… #> $ drug_exposure_start_date     <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ drug_exposure_start_datetime <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ drug_exposure_end_date       <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ drug_exposure_end_datetime   <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000… #> $ verbatim_end_date            <date> 1960-04-09, 2010-10-06, 2017-10-25, NA, … #> $ drug_type_concept_id         <int> 581452, 581452, 581452, 38000177, 3800017… #> $ stop_reason                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ refills                      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ quantity                     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ days_supply                  <int> 0, 0, 0, 0, 0, 14, 0, 0, 0, 60, 14, 28, 7… #> $ sig                          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ route_concept_id             <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ lot_number                   <chr> \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"… #> $ provider_id                  <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ visit_occurrence_id          <int> 38004, 88400, 38145, 303185, 259023, 2127… #> $ visit_detail_id              <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,… #> $ drug_source_value            <chr> \"10\", \"133\", \"121\", \"00025152531\", \"85700… #> $ drug_source_concept_id       <int> 40213160, 40213198, 40213260, 44923712, 4… #> $ route_source_value           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ dose_unit_source_value       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ drug_concept_id_name         <chr> \"poliovirus vaccine, inactivated\", \"pneum… #> $ drug_type_concept_id_name    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ route_concept_id_name        <chr> \"No matching concept\", \"No matching conce… #> $ drug_source_concept_id_name  <chr> \"poliovirus vaccine, inactivated\", \"pneum… # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirth.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a column with the individual birth date — addDateOfBirth","title":"Add a column with the individual birth date — addDateOfBirth","text":"Add column individual birth date","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a column with the individual birth date — addDateOfBirth","text":"","code":"addDateOfBirth(   x,   dateOfBirthName = \"date_of_birth\",   missingDay = 1,   missingMonth = 1,   imposeDay = FALSE,   imposeMonth = FALSE,   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a column with the individual birth date — addDateOfBirth","text":"x Table cdm contains 'person_id' 'subject_id'. dateOfBirthName Name column added date birth. missingDay Day individuals imposed day birth. missingMonth Month individuals imposed month birth. imposeDay Whether impose day birth. imposeMonth Whether impose month birth. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a column with the individual birth date — addDateOfBirth","text":"function returns table x extra column contains date birth.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a column with the individual birth date — addDateOfBirth","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDateOfBirth() #> # Source:   table<og_092_1751199904> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          1 1980-06-16        2005-08-11      #>  2                    2          4 1936-09-15        1939-10-27      #>  3                    1         10 1952-08-16        1954-05-10      #>  4                    2          9 2001-01-23        2002-04-18      #>  5                    3          2 1974-10-04        1979-05-21      #>  6                    1          5 1993-11-01        1996-08-26      #>  7                    2          3 1979-05-02        1999-11-28      #>  8                    3          8 1956-01-15        1964-03-09      #>  9                    1          7 1947-04-12        1951-04-21      #> 10                    1          6 1936-01-30        1942-05-05      #> # ℹ 1 more variable: date_of_birth <date>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirthQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add a column with the individual birth date — addDateOfBirthQuery","title":"Query to add a column with the individual birth date — addDateOfBirthQuery","text":"`r lifecycle::badge(\"experimental\")` `addDateOfBirth()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirthQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add a column with the individual birth date — addDateOfBirthQuery","text":"","code":"addDateOfBirthQuery(   x,   dateOfBirthName = \"date_of_birth\",   missingDay = 1,   missingMonth = 1,   imposeDay = FALSE,   imposeMonth = FALSE )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirthQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add a column with the individual birth date — addDateOfBirthQuery","text":"x Table cdm contains 'person_id' 'subject_id'. dateOfBirthName Name column added date birth. missingDay Day individuals imposed day birth. missingMonth Month individuals imposed month birth. imposeDay Whether impose day birth. imposeMonth Whether impose month birth.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirthQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add a column with the individual birth date — addDateOfBirthQuery","text":"function returns table x extra column contains date birth.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDateOfBirthQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add a column with the individual birth date — addDateOfBirthQuery","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDateOfBirthQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          6 1983-01-30        1988-08-25      #>  2                    1          2 1933-10-18        1935-04-25      #>  3                    3          3 1943-04-29        1948-02-11      #>  4                    2          7 1977-12-29        1980-02-06      #>  5                    2          5 1945-08-10        1946-12-12      #>  6                    1         10 1938-04-29        1958-05-17      #>  7                    2          1 1946-07-01        1952-05-09      #>  8                    3          8 1992-11-22        1996-10-29      #>  9                    3          4 1983-09-24        1984-02-14      #> 10                    3          9 1919-01-22        1933-01-30      #> # ℹ 1 more variable: date_of_birth <date>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDate.html","id":null,"dir":"Reference","previous_headings":"","what":"Add date of death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDate","title":"Add date of death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDate","text":"Add date death individuals. death within observation period `indexDate` observed.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add date of death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDate","text":"","code":"addDeathDate(   x,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = c(0, Inf),   deathDateName = \"date_of_death\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add date of death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDate","text":"x Table individuals cdm. indexDate Variable x contains window origin. censorDate Name column stop followup. window window consider events . deathDateName name new column added. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add date of death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDate","text":"table x added column death information added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add date of death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDate","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDeathDate() #> # Source:   table<og_093_1751199908> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    3          5 1974-05-13        1976-11-03      #>  2                    1          2 1913-05-22        1925-01-17      #>  3                    2          1 1991-02-24        1995-02-10      #>  4                    2          8 1988-08-14        1993-08-05      #>  5                    1          7 1952-12-01        1961-03-14      #>  6                    1         10 1993-08-21        1996-09-23      #>  7                    1          9 1934-06-14        1935-10-28      #>  8                    1          4 1982-07-22        1984-06-09      #>  9                    1          3 1909-05-22        1917-07-04      #> 10                    1          6 1977-01-06        1977-07-07      #> # ℹ 1 more variable: date_of_death <date>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDays.html","id":null,"dir":"Reference","previous_headings":"","what":"Add days to death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDays","title":"Add days to death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDays","text":"Add days death individuals. death within observation period `indexDate` observed.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add days to death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDays","text":"","code":"addDeathDays(   x,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = c(0, Inf),   deathDaysName = \"days_to_death\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDays.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add days to death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDays","text":"x Table individuals cdm. indexDate Variable x contains window origin. censorDate Name column stop followup. window window consider events . deathDaysName name new column added. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDays.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add days to death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDays","text":"table x added column death information added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathDays.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add days to death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathDays","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDeathDays() #> # Source:   table<og_099_1751199911> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          5 1971-10-31        1984-10-02      #>  2                    1          6 1993-02-18        1994-05-24      #>  3                    1          7 1992-03-08        1997-10-05      #>  4                    3         10 1952-08-12        1955-11-26      #>  5                    1          9 1965-07-21        1966-11-18      #>  6                    2          8 1910-10-08        1927-04-22      #>  7                    3          4 1951-08-01        1955-01-19      #>  8                    2          1 1935-02-23        1937-10-23      #>  9                    3          3 1924-08-03        1934-08-09      #> 10                    2          2 1966-01-07        1966-12-08      #> # ℹ 1 more variable: days_to_death <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathFlag.html","id":null,"dir":"Reference","previous_headings":"","what":"Add flag for death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathFlag","title":"Add flag for death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathFlag","text":"Add flag death individuals. death within observation period `indexDate` observed.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathFlag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add flag for death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathFlag","text":"","code":"addDeathFlag(   x,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = c(0, Inf),   deathFlagName = \"death\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathFlag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add flag for death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathFlag","text":"x Table individuals cdm. indexDate Variable x contains window origin. censorDate Name column stop followup. window window consider events . deathFlagName name new column added. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathFlag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add flag for death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathFlag","text":"table x added column death information added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDeathFlag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add flag for death for individuals. Only death within the same observation period than `indexDate` will be observed. — addDeathFlag","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDeathFlag() #> # Source:   table<og_105_1751199913> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date death #>                   <int>      <int> <date>            <date>          <dbl> #>  1                    1          3 1975-02-22        1986-08-28          0 #>  2                    2          5 1981-09-20        1993-07-16          0 #>  3                    1          9 1941-03-20        1953-09-03          0 #>  4                    2          4 1960-11-27        1964-07-15          0 #>  5                    3          7 1920-11-23        1920-12-30          0 #>  6                    2          8 1963-07-17        1964-02-16          0 #>  7                    2         10 1962-10-12        1976-12-01          0 #>  8                    3          6 1955-09-30        1965-03-06          0 #>  9                    1          2 1953-12-21        1958-11-17          0 #> 10                    1          1 2009-07-18        2016-12-13          0  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute demographic characteristics at a certain date — addDemographics","title":"Compute demographic characteristics at a certain date — addDemographics","text":"Compute demographic characteristics certain date","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute demographic characteristics at a certain date — addDemographics","text":"","code":"addDemographics(   x,   indexDate = \"cohort_start_date\",   age = TRUE,   ageName = \"age\",   ageMissingMonth = 1,   ageMissingDay = 1,   ageImposeMonth = FALSE,   ageImposeDay = FALSE,   ageGroup = NULL,   missingAgeGroupValue = \"None\",   sex = TRUE,   sexName = \"sex\",   missingSexValue = \"None\",   priorObservation = TRUE,   priorObservationName = \"prior_observation\",   priorObservationType = \"days\",   futureObservation = TRUE,   futureObservationName = \"future_observation\",   futureObservationType = \"days\",   dateOfBirth = FALSE,   dateOfBirthName = \"date_of_birth\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute demographic characteristics at a certain date — addDemographics","text":"x Table individuals cdm. indexDate Variable x contains date compute demographics characteristics. age TRUE FALSE. TRUE, age calculated relative indexDate. ageName Age variable name. ageMissingMonth Month year assigned individuals missing month birth. ageMissingDay day month assigned individuals missing day birth. ageImposeMonth TRUE FALSE. Whether month date birth considered missing individuals. ageImposeDay TRUE FALSE. Whether day date birth considered missing individuals. ageGroup NULL, list ageGroup vectors. missingAgeGroupValue Value include missing age. sex TRUE FALSE. TRUE, sex identified. sexName Sex variable name. missingSexValue Value include missing sex. priorObservation TRUE FALSE. TRUE, days start current observation period indexDate calculated. priorObservationName Prior observation variable name. priorObservationType Whether return \"date\" number \"days\". futureObservation TRUE FALSE. TRUE, days indexDate end current observation period calculated. futureObservationName Future observation variable name. futureObservationType Whether return \"date\" number \"days\". dateOfBirth TRUE FALSE, true date birth return. dateOfBirthName dateOfBirth column name. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute demographic characteristics at a certain date — addDemographics","text":"cohort table added demographic information columns.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute demographic characteristics at a certain date — addDemographics","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDemographics() #> # Source:   table<og_114_1751199916> [?? x 8] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date   age sex   #>                   <int>      <int> <date>            <date>          <int> <chr> #>  1                    2          1 1973-06-21        1975-05-16         41 Fema… #>  2                    3          2 1963-12-29        1964-12-14         12 Male  #>  3                    2          3 1943-10-25        1944-05-13         38 Fema… #>  4                    3          4 1931-07-03        1940-06-25          1 Fema… #>  5                    2          5 1944-07-23        1962-01-31         17 Fema… #>  6                    3          6 1977-01-05        1998-03-25          1 Fema… #>  7                    3          7 1996-07-05        1996-11-24         36 Male  #>  8                    2          8 1942-01-09        1949-01-17         14 Fema… #>  9                    2          9 1942-06-17        1942-11-28         15 Male  #> 10                    1         10 1905-10-16        1911-05-06          0 Fema… #> # ℹ 2 more variables: prior_observation <int>, future_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographicsQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add demographic characteristics at a certain date — addDemographicsQuery","title":"Query to add demographic characteristics at a certain date — addDemographicsQuery","text":"`r lifecycle::badge(\"experimental\")` `addDemographics()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographicsQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add demographic characteristics at a certain date — addDemographicsQuery","text":"","code":"addDemographicsQuery(   x,   indexDate = \"cohort_start_date\",   age = TRUE,   ageName = \"age\",   ageMissingMonth = 1,   ageMissingDay = 1,   ageImposeMonth = FALSE,   ageImposeDay = FALSE,   ageGroup = NULL,   missingAgeGroupValue = \"None\",   sex = TRUE,   sexName = \"sex\",   missingSexValue = \"None\",   priorObservation = TRUE,   priorObservationName = \"prior_observation\",   priorObservationType = \"days\",   futureObservation = TRUE,   futureObservationName = \"future_observation\",   futureObservationType = \"days\",   dateOfBirth = FALSE,   dateOfBirthName = \"date_of_birth\" )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographicsQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add demographic characteristics at a certain date — addDemographicsQuery","text":"x Table individuals cdm. indexDate Variable x contains date compute demographics characteristics. age TRUE FALSE. TRUE, age calculated relative indexDate. ageName Age variable name. ageMissingMonth Month year assigned individuals missing month birth. ageMissingDay day month assigned individuals missing day birth. ageImposeMonth TRUE FALSE. Whether month date birth considered missing individuals. ageImposeDay TRUE FALSE. Whether day date birth considered missing individuals. ageGroup NULL, list ageGroup vectors. missingAgeGroupValue Value include missing age. sex TRUE FALSE. TRUE, sex identified. sexName Sex variable name. missingSexValue Value include missing sex. priorObservation TRUE FALSE. TRUE, days start current observation period indexDate calculated. priorObservationName Prior observation variable name. priorObservationType Whether return \"date\" number \"days\". futureObservation TRUE FALSE. TRUE, days indexDate end current observation period calculated. futureObservationName Future observation variable name. futureObservationType Whether return \"date\" number \"days\". dateOfBirth TRUE FALSE, true date birth return. dateOfBirthName dateOfBirth column name.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographicsQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add demographic characteristics at a certain date — addDemographicsQuery","text":"cohort table added demographic information columns.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addDemographicsQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add demographic characteristics at a certain date — addDemographicsQuery","text":"","code":"# \\donttest{ library(PatientProfiles) cdm <- mockPatientProfiles()  cdm$cohort1 |>   addDemographicsQuery() #> # Source:   SQL [?? x 8] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date   age sex   #>                   <int>      <int> <date>            <date>          <int> <chr> #>  1                    3          1 1947-10-16        1960-06-03          0 Male  #>  2                    3          2 1912-02-15        1919-08-29          8 Male  #>  3                    2          3 1962-10-15        1962-11-03         30 Male  #>  4                    1          4 1956-10-16        1966-09-14          8 Male  #>  5                    1          5 1951-07-26        1973-09-17          4 Male  #>  6                    1          6 1977-10-28        1989-09-22          6 Fema… #>  7                    3          7 1925-09-09        1930-06-29          3 Male  #>  8                    3          8 1953-04-23        1954-06-20         39 Fema… #>  9                    1          9 1971-12-11        1980-08-17          4 Male  #> 10                    2         10 1978-06-15        1998-04-29         16 Male  #> # ℹ 2 more variables: prior_observation <int>, future_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservation.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the number of days till the end of the observation period at a certain date — addFutureObservation","title":"Compute the number of days till the end of the observation period at a certain date — addFutureObservation","text":"Compute number days till end observation period certain date","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the number of days till the end of the observation period at a certain date — addFutureObservation","text":"","code":"addFutureObservation(   x,   indexDate = \"cohort_start_date\",   futureObservationName = \"future_observation\",   futureObservationType = \"days\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the number of days till the end of the observation period at a certain date — addFutureObservation","text":"x Table individuals cdm. indexDate Variable x contains date compute future observation. futureObservationName name new column added. futureObservationType Whether return \"date\" number \"days\". name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the number of days till the end of the observation period at a certain date — addFutureObservation","text":"cohort table added column containing future observation individuals.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the number of days till the end of the observation period at a certain date — addFutureObservation","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addFutureObservation() #> # Source:   table<og_115_1751199920> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    3          2 1954-06-30        1955-07-22      #>  2                    3          3 1965-07-15        1966-05-07      #>  3                    2          9 1928-05-22        1938-06-22      #>  4                    3          4 1963-07-23        1973-02-21      #>  5                    3          8 1935-03-13        1952-02-24      #>  6                    2          7 1936-12-01        1946-12-14      #>  7                    3          1 1963-05-29        1972-03-02      #>  8                    3         10 1984-11-09        1985-02-05      #>  9                    2          6 1972-04-06        1972-12-04      #> 10                    1          5 1972-03-05        1974-09-12      #> # ℹ 1 more variable: future_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservationQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add the number of days till the end of the observation period at a certain date — addFutureObservationQuery","title":"Query to add the number of days till the end of the observation period at a certain date — addFutureObservationQuery","text":"`r lifecycle::badge(\"experimental\")` `addFutureObservation()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservationQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add the number of days till the end of the observation period at a certain date — addFutureObservationQuery","text":"","code":"addFutureObservationQuery(   x,   indexDate = \"cohort_start_date\",   futureObservationName = \"future_observation\",   futureObservationType = \"days\" )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservationQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add the number of days till the end of the observation period at a certain date — addFutureObservationQuery","text":"x Table individuals cdm. indexDate Variable x contains date compute future observation. futureObservationName name new column added. futureObservationType Whether return \"date\" number \"days\".","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservationQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add the number of days till the end of the observation period at a certain date — addFutureObservationQuery","text":"cohort table added column containing future observation individuals.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addFutureObservationQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add the number of days till the end of the observation period at a certain date — addFutureObservationQuery","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addFutureObservationQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    3          1 1977-08-29        1982-12-01      #>  2                    1         10 1980-04-24        1986-02-12      #>  3                    3          5 1914-09-24        1929-12-27      #>  4                    3          6 1997-06-03        1998-06-16      #>  5                    1          7 1913-12-24        1919-07-31      #>  6                    1          3 1972-04-24        1972-10-03      #>  7                    3          4 1947-11-14        1957-07-09      #>  8                    1          2 1918-10-13        1920-10-21      #>  9                    1          8 1938-09-11        1953-11-12      #> 10                    2          9 1927-05-18        1930-03-22      #> # ℹ 1 more variable: future_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservation.html","id":null,"dir":"Reference","previous_headings":"","what":"Indicate if a certain record is within the observation period — addInObservation","title":"Indicate if a certain record is within the observation period — addInObservation","text":"Indicate certain record within observation period","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Indicate if a certain record is within the observation period — addInObservation","text":"","code":"addInObservation(   x,   indexDate = \"cohort_start_date\",   window = c(0, 0),   completeInterval = FALSE,   nameStyle = \"in_observation\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Indicate if a certain record is within the observation period — addInObservation","text":"x Table individuals cdm. indexDate Variable x contains date compute observation flag. window window consider events . completeInterval individuals observation full window. nameStyle Name new columns create, must contain \"window_name\" multiple windows provided. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Indicate if a certain record is within the observation period — addInObservation","text":"cohort table added binary column assessing inObservation.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Indicate if a certain record is within the observation period — addInObservation","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addInObservation() #> # Source:   table<og_117_1751199925> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          1 1953-10-29        1954-04-12      #>  2                    1          9 1988-08-25        1990-01-07      #>  3                    3          4 1974-08-13        1980-06-01      #>  4                    3          8 1975-05-15        1996-12-29      #>  5                    1          6 1923-09-01        1928-12-03      #>  6                    3          7 1909-02-09        1921-09-17      #>  7                    2          5 1909-10-21        1922-07-08      #>  8                    1          2 1996-04-09        1996-05-30      #>  9                    3         10 1920-05-26        1927-09-15      #> 10                    2          3 1959-05-05        1965-08-27      #> # ℹ 1 more variable: in_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservationQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add a new column to indicate if a certain record is within the observation period — addInObservationQuery","title":"Query to add a new column to indicate if a certain record is within the observation period — addInObservationQuery","text":"`r lifecycle::badge(\"experimental\")` `addInObservation()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservationQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add a new column to indicate if a certain record is within the observation period — addInObservationQuery","text":"","code":"addInObservationQuery(   x,   indexDate = \"cohort_start_date\",   window = c(0, 0),   completeInterval = FALSE,   nameStyle = \"in_observation\" )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservationQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add a new column to indicate if a certain record is within the observation period — addInObservationQuery","text":"x Table individuals cdm. indexDate Variable x contains date compute observation flag. window window consider events . completeInterval individuals observation full window. nameStyle Name new columns create, must contain \"window_name\" multiple windows provided.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservationQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add a new column to indicate if a certain record is within the observation period — addInObservationQuery","text":"cohort table added binary column assessing inObservation.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addInObservationQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add a new column to indicate if a certain record is within the observation period — addInObservationQuery","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addInObservationQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2         10 1913-10-17        1913-12-18      #>  2                    1          5 1969-02-28        1986-01-18      #>  3                    1          4 1931-10-22        1932-06-30      #>  4                    2          8 1985-11-25        1986-05-21      #>  5                    3          6 1937-05-01        1947-08-11      #>  6                    3          7 1923-02-14        1930-02-19      #>  7                    2          1 1931-04-11        1963-07-28      #>  8                    3          9 2002-04-11        2002-05-07      #>  9                    2          2 1975-07-18        1984-09-14      #> 10                    2          3 1929-09-27        1937-04-29      #> # ℹ 1 more variable: in_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodId.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the ordinal number of the observation period associated that a given date is in. — addObservationPeriodId","title":"Add the ordinal number of the observation period associated that a given date is in. — addObservationPeriodId","text":"Add ordinal number observation period associated given date .","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodId.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the ordinal number of the observation period associated that a given date is in. — addObservationPeriodId","text":"","code":"addObservationPeriodId(   x,   indexDate = \"cohort_start_date\",   nameObservationPeriodId = \"observation_period_id\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodId.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the ordinal number of the observation period associated that a given date is in. — addObservationPeriodId","text":"x Table individuals cdm. indexDate Variable x contains date compute observation flag. nameObservationPeriodId Name new column. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodId.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the ordinal number of the observation period associated that a given date is in. — addObservationPeriodId","text":"Table current observation period id added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodId.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add the ordinal number of the observation period associated that a given date is in. — addObservationPeriodId","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addObservationPeriodId() #> # Source:   table<og_118_1751199929> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          4 1970-05-25        1974-04-12      #>  2                    1          2 1961-08-10        1992-12-26      #>  3                    1          6 1943-11-08        1955-09-30      #>  4                    2         10 1986-09-04        1993-07-04      #>  5                    3          1 1998-03-29        1998-04-24      #>  6                    3          5 1944-06-16        1946-01-18      #>  7                    2          8 1929-07-09        1930-04-11      #>  8                    1          9 1982-10-04        1983-04-21      #>  9                    2          3 1929-08-19        1936-05-01      #> 10                    1          7 1966-02-28        1967-01-22      #> # ℹ 1 more variable: observation_period_id <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodIdQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the ordinal number of the observation period associated that a given date is in. Result is not computed, only query is added. — addObservationPeriodIdQuery","title":"Add the ordinal number of the observation period associated that a given date is in. Result is not computed, only query is added. — addObservationPeriodIdQuery","text":"Add ordinal number observation period associated given date . Result computed, query added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodIdQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the ordinal number of the observation period associated that a given date is in. Result is not computed, only query is added. — addObservationPeriodIdQuery","text":"","code":"addObservationPeriodIdQuery(   x,   indexDate = \"cohort_start_date\",   nameObservationPeriodId = \"observation_period_id\" )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodIdQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the ordinal number of the observation period associated that a given date is in. Result is not computed, only query is added. — addObservationPeriodIdQuery","text":"x Table individuals cdm. indexDate Variable x contains date compute observation flag. nameObservationPeriodId Name new column.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodIdQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the ordinal number of the observation period associated that a given date is in. Result is not computed, only query is added. — addObservationPeriodIdQuery","text":"Table current observation period id added.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addObservationPeriodIdQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add the ordinal number of the observation period associated that a given date is in. Result is not computed, only query is added. — addObservationPeriodIdQuery","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addObservationPeriodIdQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          9 1959-03-12        1959-05-03      #>  2                    3          8 1946-07-31        1947-03-27      #>  3                    3          7 1964-05-08        1989-12-19      #>  4                    2          3 1996-06-03        2004-07-12      #>  5                    1          2 1996-03-22        2006-12-16      #>  6                    2          4 1973-12-10        1986-11-03      #>  7                    1          6 1999-04-26        2010-12-01      #>  8                    1          5 1953-06-05        1963-12-28      #>  9                    1          1 2028-05-21        2029-12-02      #> 10                    2         10 1940-04-20        1940-06-18      #> # ℹ 1 more variable: observation_period_id <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservation.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the number of days of prior observation in the current observation period at a certain date — addPriorObservation","title":"Compute the number of days of prior observation in the current observation period at a certain date — addPriorObservation","text":"Compute number days prior observation current observation period certain date","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the number of days of prior observation in the current observation period at a certain date — addPriorObservation","text":"","code":"addPriorObservation(   x,   indexDate = \"cohort_start_date\",   priorObservationName = \"prior_observation\",   priorObservationType = \"days\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the number of days of prior observation in the current observation period at a certain date — addPriorObservation","text":"x Table individuals cdm. indexDate Variable x contains date compute prior observation. priorObservationName name new column added. priorObservationType Whether return \"date\" number \"days\". name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the number of days of prior observation in the current observation period at a certain date — addPriorObservation","text":"cohort table added column containing prior observation individuals.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the number of days of prior observation in the current observation period at a certain date — addPriorObservation","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addPriorObservation() #> # Source:   table<og_119_1751199933> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          8 1963-04-02        1975-08-05      #>  2                    2          1 1945-12-20        1964-04-11      #>  3                    2         10 1959-01-17        1976-06-12      #>  4                    3          4 1975-09-18        1979-05-02      #>  5                    2          3 1940-03-02        1940-12-11      #>  6                    1          9 1959-07-04        1960-03-27      #>  7                    1          7 1913-02-17        1914-10-20      #>  8                    3          2 1953-03-30        1954-02-13      #>  9                    1          5 1959-07-16        1959-08-27      #> 10                    2          6 1916-12-23        1931-10-23      #> # ℹ 1 more variable: prior_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservationQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add the number of days of prior observation in the current observation period at a certain date — addPriorObservationQuery","title":"Query to add the number of days of prior observation in the current observation period at a certain date — addPriorObservationQuery","text":"`r lifecycle::badge(\"experimental\")` `addPriorObservation()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservationQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add the number of days of prior observation in the current observation period at a certain date — addPriorObservationQuery","text":"","code":"addPriorObservationQuery(   x,   indexDate = \"cohort_start_date\",   priorObservationName = \"prior_observation\",   priorObservationType = \"days\" )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservationQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add the number of days of prior observation in the current observation period at a certain date — addPriorObservationQuery","text":"x Table individuals cdm. indexDate Variable x contains date compute prior observation. priorObservationName name new column added. priorObservationType Whether return \"date\" number \"days\".","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservationQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add the number of days of prior observation in the current observation period at a certain date — addPriorObservationQuery","text":"cohort table added column containing prior observation individuals.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addPriorObservationQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add the number of days of prior observation in the current observation period at a certain date — addPriorObservationQuery","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addPriorObservationQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          4 1988-07-02        1988-07-15      #>  2                    1          7 1986-01-19        1995-05-19      #>  3                    3          8 1955-12-28        1956-08-19      #>  4                    2          1 1958-01-08        1961-06-04      #>  5                    2         10 1935-02-08        1940-12-14      #>  6                    1          5 1994-04-17        2012-05-29      #>  7                    3          6 1917-11-19        1919-09-11      #>  8                    2          3 1944-03-02        1944-06-22      #>  9                    2          2 1911-07-06        1954-07-06      #> 10                    3          9 2004-06-11        2012-02-06      #> # ℹ 1 more variable: prior_observation <int>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSex.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the sex of the individuals — addSex","title":"Compute the sex of the individuals — addSex","text":"Compute sex individuals","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the sex of the individuals — addSex","text":"","code":"addSex(x, sexName = \"sex\", missingSexValue = \"None\", name = NULL)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSex.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the sex of the individuals — addSex","text":"x Table individuals cdm. sexName name new column added. missingSexValue Value include missing sex. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSex.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the sex of the individuals — addSex","text":"table x added column sex information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSex.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the sex of the individuals — addSex","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addSex() #> # Source:   table<og_120_1751199937> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date sex    #>                   <int>      <int> <date>            <date>          <chr>  #>  1                    2          1 1948-09-19        1951-07-04      Female #>  2                    1          2 1996-03-02        2006-04-11      Female #>  3                    2          3 1975-06-24        1980-12-09      Female #>  4                    3          4 1964-10-14        1981-03-17      Male   #>  5                    3          5 1954-10-18        1957-04-05      Male   #>  6                    2          6 1938-12-16        1939-02-14      Male   #>  7                    3          7 1955-05-18        1962-05-10      Male   #>  8                    1          8 1939-01-25        1939-04-04      Male   #>  9                    3          9 1958-07-31        1962-12-28      Female #> 10                    2         10 1910-01-31        1910-03-17      Male    mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSexQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Query to add the sex of the individuals — addSexQuery","title":"Query to add the sex of the individuals — addSexQuery","text":"`r lifecycle::badge(\"experimental\")` `addSex()`, except query computed table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSexQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query to add the sex of the individuals — addSexQuery","text":"","code":"addSexQuery(x, sexName = \"sex\", missingSexValue = \"None\")"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSexQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query to add the sex of the individuals — addSexQuery","text":"x Table individuals cdm. sexName name new column added. missingSexValue Value include missing sex.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSexQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query to add the sex of the individuals — addSexQuery","text":"table x added column sex information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addSexQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query to add the sex of the individuals — addSexQuery","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addSexQuery() #> # Source:   SQL [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date sex    #>                   <int>      <int> <date>            <date>          <chr>  #>  1                    1          1 1986-09-24        1989-08-06      Female #>  2                    3          2 1925-05-20        1927-02-09      Female #>  3                    2          3 1985-01-21        1986-09-24      Female #>  4                    3          4 1935-06-18        1951-07-26      Female #>  5                    1          5 1969-08-15        1975-09-22      Male   #>  6                    2          6 1935-01-10        1942-08-07      Female #>  7                    1          7 1970-12-07        1971-03-12      Female #>  8                    1          8 1965-01-10        1985-11-04      Female #>  9                    1          9 1952-06-02        1954-12-07      Female #> 10                    2         10 1956-01-29        1958-08-21      Female  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectCount.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute number of intersect with an omop table. — addTableIntersectCount","title":"Compute number of intersect with an omop table. — addTableIntersectCount","text":"Compute number intersect omop table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute number of intersect with an omop table. — addTableIntersectCount","text":"","code":"addTableIntersectCount(   x,   tableName,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetStartDate = startDateColumn(tableName),   targetEndDate = endDateColumn(tableName),   inObservation = TRUE,   nameStyle = \"{table_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute number of intersect with an omop table. — addTableIntersectCount","text":"x Table individuals cdm. tableName Name table intersect . Options: visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence, device_exposure, measurement, observation, drug_era, condition_era, specimen, episode. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. window window consider events . targetStartDate Column name start date comparison. targetEndDate Column name end date comparison. inObservation TRUE records inside observation period considered. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute number of intersect with an omop table. — addTableIntersectCount","text":"table added columns intersect information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectCount.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute number of intersect with an omop table. — addTableIntersectCount","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addTableIntersectCount(tableName = \"visit_occurrence\") #> # Source:   table<og_121_1751199940> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          5 1989-09-06        1991-07-02      #>  2                    2          7 1967-02-08        1968-08-01      #>  3                    2         10 1979-12-02        2003-08-10      #>  4                    2          8 2005-12-29        2015-03-13      #>  5                    2          2 1913-02-12        1921-03-10      #>  6                    3          4 1980-01-30        1981-04-05      #>  7                    3          3 1995-03-24        1998-11-13      #>  8                    2          1 1912-07-28        1912-09-17      #>  9                    2          6 1946-10-01        1959-05-09      #> 10                    2          9 1955-10-31        1956-06-15      #> # ℹ 1 more variable: visit_occurrence_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDate.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute date of intersect with an omop table. — addTableIntersectDate","title":"Compute date of intersect with an omop table. — addTableIntersectDate","text":"Compute date intersect omop table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute date of intersect with an omop table. — addTableIntersectDate","text":"","code":"addTableIntersectDate(   x,   tableName,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetDate = startDateColumn(tableName),   inObservation = TRUE,   order = \"first\",   nameStyle = \"{table_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute date of intersect with an omop table. — addTableIntersectDate","text":"x Table individuals cdm. tableName Name table intersect . Options: visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence, device_exposure, measurement, observation, drug_era, condition_era, specimen, episode. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. window window consider events . targetDate Target date tableName. inObservation TRUE records inside observation period considered. order record considered case multiple records (required date days options). nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute date of intersect with an omop table. — addTableIntersectDate","text":"table added columns intersect information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute date of intersect with an omop table. — addTableIntersectDate","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addTableIntersectDate(tableName = \"visit_occurrence\") #> # Source:   table<og_129_1751199943> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          9 1980-05-20        1981-11-17      #>  2                    2          2 1926-09-04        1927-12-31      #>  3                    2         10 1982-12-16        1983-05-20      #>  4                    2          3 1962-05-28        1980-10-16      #>  5                    3          4 1923-04-19        1929-01-14      #>  6                    1          8 1959-02-03        1966-10-01      #>  7                    3          1 1946-08-30        1971-11-30      #>  8                    3          6 1977-10-07        1981-03-22      #>  9                    3          7 1972-09-13        1973-10-05      #> 10                    1          5 1978-07-21        1996-05-05      #> # ℹ 1 more variable: visit_occurrence_0_to_inf <date>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDays.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute time to intersect with an omop table. — addTableIntersectDays","title":"Compute time to intersect with an omop table. — addTableIntersectDays","text":"Compute time intersect omop table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute time to intersect with an omop table. — addTableIntersectDays","text":"","code":"addTableIntersectDays(   x,   tableName,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetDate = startDateColumn(tableName),   inObservation = TRUE,   order = \"first\",   nameStyle = \"{table_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDays.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute time to intersect with an omop table. — addTableIntersectDays","text":"x Table individuals cdm. tableName Name table intersect . Options: visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence, device_exposure, measurement, observation, drug_era, condition_era, specimen, episode. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. window window consider events . targetDate Target date tableName. inObservation TRUE records inside observation period considered. order record considered case multiple records (required date days options). nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDays.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute time to intersect with an omop table. — addTableIntersectDays","text":"table added columns intersect information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectDays.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute time to intersect with an omop table. — addTableIntersectDays","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addTableIntersectDays(tableName = \"visit_occurrence\") #> # Source:   table<og_134_1751199946> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    2          8 1940-06-22        1944-11-10      #>  2                    2         10 1929-10-21        1933-01-31      #>  3                    1          2 1917-05-04        1926-07-16      #>  4                    3          3 1986-05-23        1987-09-06      #>  5                    1          4 1965-04-11        1972-01-20      #>  6                    2          9 1947-08-23        1952-11-04      #>  7                    3          1 1932-06-22        1934-03-12      #>  8                    1          5 1924-01-12        1938-04-10      #>  9                    1          6 1982-11-05        1984-07-06      #> 10                    3          7 1909-08-03        1909-12-21      #> # ℹ 1 more variable: visit_occurrence_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectField.html","id":null,"dir":"Reference","previous_headings":"","what":"Intersecting the cohort with columns of an OMOP table of user's choice. It will add an extra column to the cohort, indicating the intersected entries with the target columns in a window of the user's choice. — addTableIntersectField","title":"Intersecting the cohort with columns of an OMOP table of user's choice. It will add an extra column to the cohort, indicating the intersected entries with the target columns in a window of the user's choice. — addTableIntersectField","text":"Intersecting cohort columns OMOP table user's choice. add extra column cohort, indicating intersected entries target columns window user's choice.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectField.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Intersecting the cohort with columns of an OMOP table of user's choice. It will add an extra column to the cohort, indicating the intersected entries with the target columns in a window of the user's choice. — addTableIntersectField","text":"","code":"addTableIntersectField(   x,   tableName,   field,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetDate = startDateColumn(tableName),   inObservation = TRUE,   order = \"first\",   allowDuplicates = FALSE,   nameStyle = \"{table_name}_{extra_value}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectField.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Intersecting the cohort with columns of an OMOP table of user's choice. It will add an extra column to the cohort, indicating the intersected entries with the target columns in a window of the user's choice. — addTableIntersectField","text":"x Table individuals cdm. tableName Name table intersect . Options: visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence, device_exposure, measurement, observation, drug_era, condition_era, specimen, episode. field columns table tableName intersect . example, user uses visit_occurrence tableName field possible options include visit_occurrence_id, visit_concept_id, visit_type_concept_id. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. window window consider events intersecting chosen column. targetDate dates target columns tableName user may want restrict . inObservation TRUE records inside observation period considered. order record considered case multiple records (required date days options). allowDuplicates Whether allow multiple records conceptSet, person_id targetDate. switched TRUE, can different unpredictable behavior depending cdm_source. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectField.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Intersecting the cohort with columns of an OMOP table of user's choice. It will add an extra column to the cohort, indicating the intersected entries with the target columns in a window of the user's choice. — addTableIntersectField","text":"table added columns intersect information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectField.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Intersecting the cohort with columns of an OMOP table of user's choice. It will add an extra column to the cohort, indicating the intersected entries with the target columns in a window of the user's choice. — addTableIntersectField","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles() cdm$cohort1 |>   addTableIntersectField(     tableName = \"visit_occurrence\",     field = \"visit_concept_id\",     order = \"last\",     window = c(-Inf, -1)   ) #> # Source:   table<og_139_1751199948> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          3 1913-04-17        1934-09-30      #>  2                    1         10 1926-07-09        1932-08-03      #>  3                    1          1 1964-04-09        1964-04-28      #>  4                    2          5 2006-06-04        2012-04-19      #>  5                    1          6 1939-09-12        1939-10-24      #>  6                    3          7 1949-08-27        1955-07-15      #>  7                    1          2 1994-05-27        1994-11-27      #>  8                    2          8 1953-12-12        1956-06-29      #>  9                    1          4 1933-11-23        1946-04-22      #> 10                    3          9 1953-07-16        1975-08-19      #> # ℹ 1 more variable: visit_occurrence_visit_concept_id_minf_to_m1 <int> mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectFlag.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute a flag intersect with an omop table. — addTableIntersectFlag","title":"Compute a flag intersect with an omop table. — addTableIntersectFlag","text":"Compute flag intersect omop table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectFlag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute a flag intersect with an omop table. — addTableIntersectFlag","text":"","code":"addTableIntersectFlag(   x,   tableName,   indexDate = \"cohort_start_date\",   censorDate = NULL,   window = list(c(0, Inf)),   targetStartDate = startDateColumn(tableName),   targetEndDate = endDateColumn(tableName),   inObservation = TRUE,   nameStyle = \"{table_name}_{window_name}\",   name = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectFlag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute a flag intersect with an omop table. — addTableIntersectFlag","text":"x Table individuals cdm. tableName Name table intersect . Options: visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence, device_exposure, measurement, observation, drug_era, condition_era, specimen, episode. indexDate Variable x contains date compute intersection. censorDate whether censor overlap events specific date column date x. window window consider events . targetStartDate Column name start date comparison. targetEndDate Column name end date comparison. inObservation TRUE records inside observation period considered. nameStyle naming added column columns, include required parameters. name Name new table, NULL temporary table returned.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectFlag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute a flag intersect with an omop table. — addTableIntersectFlag","text":"table added columns intersect information.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/addTableIntersectFlag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute a flag intersect with an omop table. — addTableIntersectFlag","text":"","code":"# \\donttest{ cdm <- mockPatientProfiles()  cdm$cohort1 |>   addTableIntersectFlag(tableName = \"visit_occurrence\") #> # Source:   table<og_144_1751199951> [?? x 5] #> # Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <int> <date>            <date>          #>  1                    1          3 1976-05-05        1985-04-10      #>  2                    2          4 1938-02-14        1938-04-23      #>  3                    2          6 1910-08-21        1911-10-24      #>  4                    3          2 1925-02-18        1927-09-16      #>  5                    2          7 1937-02-06        1955-03-13      #>  6                    3          1 1931-03-25        1932-12-19      #>  7                    1          9 1975-05-27        1981-10-23      #>  8                    1          5 1967-03-13        1969-11-07      #>  9                    1          8 1943-06-02        1943-08-21      #> 10                    3         10 1948-01-23        1957-10-30      #> # ℹ 1 more variable: visit_occurrence_0_to_inf <dbl>  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/availableEstimates.html","id":null,"dir":"Reference","previous_headings":"","what":"Show the available estimates that can be used for the different variable_type supported. — availableEstimates","title":"Show the available estimates that can be used for the different variable_type supported. — availableEstimates","text":"Show available estimates can used different variable_type supported.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/availableEstimates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show the available estimates that can be used for the different variable_type supported. — availableEstimates","text":"","code":"availableEstimates(variableType = NULL, fullQuantiles = FALSE)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/availableEstimates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show the available estimates that can be used for the different variable_type supported. — availableEstimates","text":"variableType set variable types. fullQuantiles Whether display exact quantiles can computed qXX summarise .","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/availableEstimates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show the available estimates that can be used for the different variable_type supported. — availableEstimates","text":"tibble available estimates.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/availableEstimates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show the available estimates that can be used for the different variable_type supported. — availableEstimates","text":"","code":"# \\donttest{ library(PatientProfiles)  availableEstimates() #> # A tibble: 37 × 4 #>    variable_type estimate_name      estimate_description           estimate_type #>    <chr>         <chr>              <chr>                          <chr>         #>  1 date          mean               mean of the variable of inter… date          #>  2 date          sd                 standard deviation of the var… date          #>  3 date          median             median of the variable of int… date          #>  4 date          qXX                qualtile of XX% the variable … date          #>  5 date          min                minimum of the variable of in… date          #>  6 date          max                maximum of the variable of in… date          #>  7 date          count_missing      number of missing values.      integer       #>  8 date          percentage_missing percentage of missing values   percentage    #>  9 numeric       sum                sum of all the values for the… numeric       #> 10 numeric       mean               mean of the variable of inter… numeric       #> # ℹ 27 more rows availableEstimates(\"numeric\") #> # A tibble: 12 × 4 #>    variable_type estimate_name      estimate_description           estimate_type #>    <chr>         <chr>              <chr>                          <chr>         #>  1 numeric       sum                sum of all the values for the… numeric       #>  2 numeric       mean               mean of the variable of inter… numeric       #>  3 numeric       sd                 standard deviation of the var… numeric       #>  4 numeric       median             median of the variable of int… numeric       #>  5 numeric       qXX                qualtile of XX% the variable … numeric       #>  6 numeric       min                minimum of the variable of in… numeric       #>  7 numeric       max                maximum of the variable of in… numeric       #>  8 numeric       count_missing      number of missing values.      integer       #>  9 numeric       percentage_missing percentage of missing values   percentage    #> 10 numeric       count              count number of `1`.           integer       #> 11 numeric       percentage         percentage of occurrences of … percentage    #> 12 numeric       density            density distribution           multiple      availableEstimates(c(\"numeric\", \"categorical\")) #> # A tibble: 14 × 4 #>    variable_type estimate_name      estimate_description           estimate_type #>    <chr>         <chr>              <chr>                          <chr>         #>  1 numeric       sum                sum of all the values for the… numeric       #>  2 numeric       mean               mean of the variable of inter… numeric       #>  3 numeric       sd                 standard deviation of the var… numeric       #>  4 numeric       median             median of the variable of int… numeric       #>  5 numeric       qXX                qualtile of XX% the variable … numeric       #>  6 numeric       min                minimum of the variable of in… numeric       #>  7 numeric       max                maximum of the variable of in… numeric       #>  8 numeric       count_missing      number of missing values.      integer       #>  9 numeric       percentage_missing percentage of missing values   percentage    #> 10 numeric       count              count number of `1`.           integer       #> 11 numeric       percentage         percentage of occurrences of … percentage    #> 12 categorical   count              number of times that each cat… integer       #> 13 categorical   percentage         percentage of individuals wit… percentage    #> 14 numeric       density            density distribution           multiple      # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/benchmarkPatientProfiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Benchmark intersections and demographics functions for a certain source (cdm). — benchmarkPatientProfiles","title":"Benchmark intersections and demographics functions for a certain source (cdm). — benchmarkPatientProfiles","text":"Benchmark intersections demographics functions certain source (cdm).","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/benchmarkPatientProfiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Benchmark intersections and demographics functions for a certain source (cdm). — benchmarkPatientProfiles","text":"","code":"benchmarkPatientProfiles(cdm, n = 50000, iterations = 1)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/benchmarkPatientProfiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Benchmark intersections and demographics functions for a certain source (cdm). — benchmarkPatientProfiles","text":"cdm cdm_reference object. n Size synthetic cohorts used benchmark. iterations Number iterations run benchmark.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/benchmarkPatientProfiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Benchmark intersections and demographics functions for a certain source (cdm). — benchmarkPatientProfiles","text":"summarise_result object summary statistics.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/endDateColumn.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the name of the end date column for a certain table in the cdm — endDateColumn","title":"Get the name of the end date column for a certain table in the cdm — endDateColumn","text":"Get name end date column certain table cdm","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/endDateColumn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the name of the end date column for a certain table in the cdm — endDateColumn","text":"","code":"endDateColumn(tableName)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/endDateColumn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the name of the end date column for a certain table in the cdm — endDateColumn","text":"tableName Name table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/endDateColumn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the name of the end date column for a certain table in the cdm — endDateColumn","text":"Name end date column table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/endDateColumn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the name of the end date column for a certain table in the cdm — endDateColumn","text":"","code":"# \\donttest{ library(PatientProfiles) endDateColumn(\"condition_occurrence\") #> [1] \"condition_end_date\" # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterCohortId.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter a cohort according to cohort_definition_id column, the result is not computed into a table. only a query is added. Used usually as internal functions of other packages. — filterCohortId","title":"Filter a cohort according to cohort_definition_id column, the result is not computed into a table. only a query is added. Used usually as internal functions of other packages. — filterCohortId","text":"Filter cohort according cohort_definition_id column, result computed table. query added. Used usually internal functions packages.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterCohortId.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter a cohort according to cohort_definition_id column, the result is not computed into a table. only a query is added. Used usually as internal functions of other packages. — filterCohortId","text":"","code":"filterCohortId(cohort, cohortId = NULL)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterCohortId.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter a cohort according to cohort_definition_id column, the result is not computed into a table. only a query is added. Used usually as internal functions of other packages. — filterCohortId","text":"cohort `cohort_table` object. cohortId vector cohort ids.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterCohortId.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter a cohort according to cohort_definition_id column, the result is not computed into a table. only a query is added. Used usually as internal functions of other packages. — filterCohortId","text":"`cohort_table` object.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterInObservation.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter the rows of a `cdm_table` to the ones in observation that `indexDate` is in observation. — filterInObservation","title":"Filter the rows of a `cdm_table` to the ones in observation that `indexDate` is in observation. — filterInObservation","text":"Filter rows `cdm_table` ones observation `indexDate` observation.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterInObservation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter the rows of a `cdm_table` to the ones in observation that `indexDate` is in observation. — filterInObservation","text":"","code":"filterInObservation(x, indexDate)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterInObservation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter the rows of a `cdm_table` to the ones in observation that `indexDate` is in observation. — filterInObservation","text":"x `cdm_table` object. indexDate Name column x date.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterInObservation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter the rows of a `cdm_table` to the ones in observation that `indexDate` is in observation. — filterInObservation","text":"`cdm_table` subset original table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/filterInObservation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter the rows of a `cdm_table` to the ones in observation that `indexDate` is in observation. — filterInObservation","text":"","code":"if (FALSE) { # \\dontrun{ con <- duckdb::dbConnect(duckdb::duckdb(CDMConnector::eunomiaDir())) cdm <- CDMConnector::cdmFromCon(   con = con, cdmSchema = \"main\", writeSchema = \"main\" )  cdm$condition_occurrence |>   filterInObservation(indexDate = \"condition_start_date\") |>   dplyr::compute() } # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockDisconnect.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to disconnect from the mock — mockDisconnect","title":"Function to disconnect from the mock — mockDisconnect","text":"Function disconnect mock","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockDisconnect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to disconnect from the mock — mockDisconnect","text":"","code":"mockDisconnect(cdm)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockDisconnect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to disconnect from the mock — mockDisconnect","text":"cdm cdm_reference object.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockPatientProfiles.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates a mock database for testing PatientProfiles package — mockPatientProfiles","title":"It creates a mock database for testing PatientProfiles package — mockPatientProfiles","text":"creates mock database testing PatientProfiles package","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockPatientProfiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates a mock database for testing PatientProfiles package — mockPatientProfiles","text":"","code":"mockPatientProfiles(   con = NULL,   writeSchema = NULL,   numberIndividuals = 10,   ...,   seed = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockPatientProfiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates a mock database for testing PatientProfiles package — mockPatientProfiles","text":"con DBI connection create cdm mock object. writeSchema Name schema connection writing permisions. numberIndividuals Number individuals create cdm reference. ... User self defined tables put cdm, can input many user want. seed number set seed. NULL seed used.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockPatientProfiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates a mock database for testing PatientProfiles package — mockPatientProfiles","text":"mock cdm_reference object created following user's specifications.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/mockPatientProfiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates a mock database for testing PatientProfiles package — mockPatientProfiles","text":"","code":"# \\donttest{ library(PatientProfiles) library(CDMConnector)  cdm <- mockPatientProfiles()  mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. omopgenerics settings, suppress","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/sourceConceptIdColumn.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the name of the source concept_id column for a certain table in the cdm — sourceConceptIdColumn","title":"Get the name of the source concept_id column for a certain table in the cdm — sourceConceptIdColumn","text":"Get name source concept_id column certain table cdm","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/sourceConceptIdColumn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the name of the source concept_id column for a certain table in the cdm — sourceConceptIdColumn","text":"","code":"sourceConceptIdColumn(tableName)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/sourceConceptIdColumn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the name of the source concept_id column for a certain table in the cdm — sourceConceptIdColumn","text":"tableName Name table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/sourceConceptIdColumn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the name of the source concept_id column for a certain table in the cdm — sourceConceptIdColumn","text":"Name source_concept_id column table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/sourceConceptIdColumn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the name of the source concept_id column for a certain table in the cdm — sourceConceptIdColumn","text":"","code":"# \\donttest{ library(PatientProfiles) sourceConceptIdColumn(\"condition_occurrence\") #> [1] \"condition_source_concept_id\" # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/standardConceptIdColumn.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the name of the standard concept_id column for a certain table in the cdm — standardConceptIdColumn","title":"Get the name of the standard concept_id column for a certain table in the cdm — standardConceptIdColumn","text":"Get name standard concept_id column certain table cdm","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/standardConceptIdColumn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the name of the standard concept_id column for a certain table in the cdm — standardConceptIdColumn","text":"","code":"standardConceptIdColumn(tableName)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/standardConceptIdColumn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the name of the standard concept_id column for a certain table in the cdm — standardConceptIdColumn","text":"tableName Name table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/standardConceptIdColumn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the name of the standard concept_id column for a certain table in the cdm — standardConceptIdColumn","text":"Name concept_id column table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/standardConceptIdColumn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the name of the standard concept_id column for a certain table in the cdm — standardConceptIdColumn","text":"","code":"# \\donttest{ library(PatientProfiles) standardConceptIdColumn(\"condition_occurrence\") #> [1] \"condition_concept_id\" # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/startDateColumn.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the name of the start date column for a certain table in the cdm — startDateColumn","title":"Get the name of the start date column for a certain table in the cdm — startDateColumn","text":"Get name start date column certain table cdm","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/startDateColumn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the name of the start date column for a certain table in the cdm — startDateColumn","text":"","code":"startDateColumn(tableName)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/startDateColumn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the name of the start date column for a certain table in the cdm — startDateColumn","text":"tableName Name table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/startDateColumn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the name of the start date column for a certain table in the cdm — startDateColumn","text":"Name start date column table.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/startDateColumn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the name of the start date column for a certain table in the cdm — startDateColumn","text":"","code":"# \\donttest{ library(PatientProfiles) startDateColumn(\"condition_occurrence\") #> [1] \"condition_start_date\" # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/summariseResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise variables using a set of estimate functions. The output will be a formatted summarised_result object. — summariseResult","title":"Summarise variables using a set of estimate functions. The output will be a formatted summarised_result object. — summariseResult","text":"Summarise variables using set estimate functions. output formatted summarised_result object.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/summariseResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise variables using a set of estimate functions. The output will be a formatted summarised_result object. — summariseResult","text":"","code":"summariseResult(   table,   group = list(),   includeOverallGroup = FALSE,   strata = list(),   includeOverallStrata = TRUE,   variables = NULL,   estimates = c(\"min\", \"q25\", \"median\", \"q75\", \"max\", \"count\", \"percentage\"),   counts = TRUE,   weights = NULL )"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/summariseResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise variables using a set of estimate functions. The output will be a formatted summarised_result object. — summariseResult","text":"table Table different records. group List groups considered. includeOverallGroup TRUE FALSE. TRUE, results overall group reported list groups specified. strata List stratifications within group considered. includeOverallStrata TRUE FALSE. TRUE, results overall strata reported list strata specified. variables Variables summarise, can list point different set estimate names. estimates Estimates obtain, can list point different set variables. counts Whether compute number records number subjects. weights Name column table contains weights used measuring estimates.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/summariseResult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise variables using a set of estimate functions. The output will be a formatted summarised_result object. — summariseResult","text":"summarised_result object summarised data interest.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/summariseResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise variables using a set of estimate functions. The output will be a formatted summarised_result object. — summariseResult","text":"","code":"# \\donttest{ library(PatientProfiles) library(dplyr)  cdm <- mockPatientProfiles() x <- cdm$cohort1 |>   addDemographics() |>   collect() result <- summariseResult(x) #> ℹ The following estimates will be computed: #> • cohort_start_date: min, q25, median, q75, max #> • cohort_end_date: min, q25, median, q75, max #> • age: min, q25, median, q75, max #> • sex: count, percentage #> • prior_observation: min, q25, median, q75, max #> • future_observation: min, q25, median, q75, max #> ! Table is collected to memory as not all requested estimates are supported on #>   the database side #> → Start summary of data, at 2025-06-29 12:25:57.339699 #> ✔ Summary finished, at 2025-06-29 12:25:57.458975 mockDisconnect(cdm = cdm) # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/variableTypes.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify the variables between 5 types: ","title":"Classify the variables between 5 types: ","text":"Classify variables 5 types: \"numeric\", \"categorical\", \"binary\", \"date\", NA.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/variableTypes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify the variables between 5 types: ","text":"","code":"variableTypes(table)"},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/variableTypes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classify the variables between 5 types: ","text":"table Tibble.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/variableTypes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classify the variables between 5 types: ","text":"Tibble variables type classification.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/reference/variableTypes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Classify the variables between 5 types: ","text":"","code":"# \\donttest{ library(PatientProfiles) x <- dplyr::tibble(   person_id = c(1, 2),   start_date = as.Date(c(\"2020-05-02\", \"2021-11-19\")),   asthma = c(0, 1) ) variableTypes(x) #> # A tibble: 3 × 2 #>   variable_name variable_type #>   <chr>         <chr>         #> 1 person_id     numeric       #> 2 start_date    date          #> 3 asthma        numeric       # }"},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-141","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.4.1","title":"PatientProfiles 1.4.1","text":"CRAN release: 2025-06-27 Fix pass type expression @edward-burn #794","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-140","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.4.0","title":"PatientProfiles 1.4.0","text":"CRAN release: 2025-05-30 Fix readme lifecycle badge @catalamarti #778 create new function addConceptName @catalamarti #783 Support visit domain drop non supported concepts addConceptIntersect @catalamarti #784 Collect SummariseResult median asked sql server @catalamarti #789 arrange strata summariseResult @catalamarti #790 Improve performance .addIntersect @catalamarti #788","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-131","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.3.1","title":"PatientProfiles 1.3.1","text":"CRAN release: 2025-03-05 Validate cohort using class @catalamarti #773 Use case_when addCategories @catalamarti #774 Fix binary counts db @catalamarti #775","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-130","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.3.0","title":"PatientProfiles 1.3.0","text":"CRAN release: 2025-02-26 Changed addCategories @KimLopezGuell #734 conceptSet allows conceptSetExpression @catalamarti #743 account integer64 counts @catalamarti #745 add inObservation argument addTable… @catalamarti #749 addConceptIntersectField @catalamarti #747 validate targetCohortId og @catalamarti #750 create filterInObservation @catalamarti #744 create filterCohortId @catalamarti #748 add benchmarkPatientProfiles @catalamarti #752 Update addIntersect.R @catalamarti #758 Reduce addDemographics computing time @catalamarti #759 Reduce addIntersect computing time @catalamarti #761 #762 #764 #763 preserve field type add allowDuplicates arg @catalamarti #765 Add weights argument summariseResult @nmercadeb #733 Increase test coverage @catalamarti #768","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-123","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.2.3","title":"PatientProfiles 1.2.3","text":"CRAN release: 2024-12-12 Bug fix correct NA columns observation @catalamarti","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-122","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.2.2","title":"PatientProfiles 1.2.2","text":"CRAN release: 2024-11-28 Update links codecoverage @catalamarti Distinct individuals addObservationPeriodId() @martaalcalde Remove dependencies visOmopResults magrittr @catalamarti","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-121","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.2.1","title":"PatientProfiles 1.2.1","text":"CRAN release: 2024-10-25 edge case concept concept table @edward-burn update assertions addDeath functions @catalamarti increase test coverage @catalamarti add internal compute addInObservation @edward-burn conceptIntersect inObservation argument @edward-burn","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-120","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.2.0","title":"PatientProfiles 1.2.0","text":"CRAN release: 2024-09-11 addObservationPeriodId() new function adds number observation period observation . Add density estimate summariseResult()","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-111","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.1.1","title":"PatientProfiles 1.1.1","text":"CRAN release: 2024-07-28 addCohortName overwrites already exists cohort_name column #680 #682. Correct nan Inf missing values #674 Fix #670 #671","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-110","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.1.0","title":"PatientProfiles 1.1.0","text":"CRAN release: 2024-06-11 addConceptIntersect now includes records missing end date assumption end date equal start date. add* functions new argument called name decide want resultant temp table (name = NULL) permanent table certain name. Additional functions provided, e.g. addDemographicsQuery, result computed.","code":""},{"path":"https://darwin-eu.github.io/PatientProfiles/news/index.html","id":"patientprofiles-100","dir":"Changelog","previous_headings":"","what":"PatientProfiles 1.0.0","title":"PatientProfiles 1.0.0","text":"CRAN release: 2024-05-16 Stable release package","code":""}]
